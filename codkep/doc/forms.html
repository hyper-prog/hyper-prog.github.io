<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Forms</title>
  <meta http-equiv="Content-Type" content="Text/Html;Charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="docstyle.css"/>
  <link rel="stylesheet" type="text/css" href="default.css"/>
  <link rel="stylesheet" type="text/css" href="ckcomm.css"/>
  <link rel="stylesheet" type="text/css" href="flex.css"/>
  <script type="text/javascript" src="highlight.pack.js"></script>
</head>
<body>
 <div class="content"><div class="ccdoccontent"><a name="pos_1"><h1>Forms</h1></a>
<p>(Required modules: core,<a href="sql.html">sql</a>)
</p>
<p>The first objective of the forms module is automated build of html forms and format sql queries.
Although the sql query formatter is the part of the forms module the documentation is located
under <a href="totable.html">different page</a>.
</p>
<p><em>Note: The automated view/save/edit/delete of entities are achieved by <a href="node.html">Node</a> module</em>
<em> which is heavy based on this module.</em>
</p>
<p>The two main part of this page is:
</p>
<ul><li>Pure html form generation with <a href="#htmlformclass">HtmlForm class</a> (With <a href="#formformatter">HtmlFormFormatter classes</a>)</li><li>Automated html form building and database operations with <a href="#speedform">SpeedForm</a> and the <a href="#speedformdatadef">data definition array</a> of SpeedForm.</li></ul><p><a name="htmlformclass"></a>
</p><a name="pos_2"><h1>Simple HTML form generation</h1></a>
<p>Let's see the generation of this easy form:
<form>
 <input type="text" name="city" value=""/>
 <select name="size">
  <option value="1">Small</option>
  <option value="2">Medium</option>
  <option value="3">Big</option>
 </select>
 <input type="checkbox" name="capital" />
 <input type="submit" name="add" value="Add" />
</form>
</p>
<p><em>The corresponding html code:</em>
</p><pre><code class="code">&lt;form method="POST" action="handlerurl" enctype="multipart/form-data"&gt;
 &lt;input type="text" name="city" value=""/&gt;
 &lt;select name="size"&gt;
  &lt;option value="1"&gt;Small&lt;/option&gt;
  &lt;option value="2"&gt;Medium&lt;/option&gt;
  &lt;option value="3"&gt;Big&lt;/option&gt;
 &lt;/select&gt;
 &lt;input type="checkbox" name="capital" /&gt;
 &lt;input type="submit" name="add" value="Add" /&gt;
&lt;/form&gt;
</code></pre><p>You can generate this form with the following codes:
</p><pre><code class="code"> $f = new HtmlForm();
 $f-&gt;action_post('handleurl');
 $f-&gt;input('text','city','');
 $f-&gt;select('select','size','',[
                      '1' =&gt; 'Small',
                      '2' =&gt; 'Medium',
                      '3' =&gt; 'Big',
                    ]);
 $f-&gt;input('checkbox','capital');
 $f-&gt;input('submit','add','Add');
 print $f-&gt;get();
</code></pre><p>The HtmlForm object stores every settings and data in it's internal sate.
As seen above the html generation is done by <code>get()</code> method.
The following functions can be used to define the form:
</p>
<p><a name="htmlformmethods"></a>
<strong>Definition methods of HtmlForm class:</strong>
</p>
<ul><li><span class="definition">name($name)</span>
<ul><li>Set the name of the form object. This name is usually useless but can be used in <code>form_get_start</code> and <code>form_get_item</code> <a href="hooks.html">hooks</a> where the hooks receives this name to distinguish forms.</li></ul></li><li><span class="definition">opts($o)</span>
<ul><li>Sets some options of the generated form for example css style or html classes. The function should receive an associative array where the values can be:
<ul><li><code>"id"=string</code> the id attribute of the form</li><li><code>"class"=string</code> the css class of the form</li><li><code>"style"=string</code> the style attribute of the form (Custom css code of the form)</li></ul></li></ul></li><li><span class="definition">getId()</span>
<ul><li>Returns the ID attribute of the form if set. Otherwise empty string returned.</li></ul></li><li><span class="definition">set_formatter($formatter)</span>
<ul><li>Sets the output formatter class of the form which a <code>HtmlFormFormatter</code> descendant object. See <a href="#formformatter">form formatter part</a> of this page.
<ul><li>This function can receive a formatter object which can embed the form into html table or div structure or other different html codes generated by the specified <code>HtmlFormFormatter</code> descendant object.</li></ul></li></ul></li><li><span class="definition">action_get($rawurl, array $query = [], array $urlopts = [])</span>
<ul><li>Sets the form action to "GET" and the target url to <code>$rawurl</code>. The other parameters are passed to the <code>url()</code> function. See the <a href="routes.html#urlfunc">documentation of <code>url()</code></a></li></ul></li><li><span class="definition">action_post($rawurl, array $query = [], array $urlopts = [])</span>
<ul><li>Sets the form action to "POST" and the target url to <code>$rawurl</code>. The other parameters are passed to the <code>url()</code> function. See the <a href="routes.html#urlfunc">documentation of <code>url()</code></a></li></ul></li><li><span class="definition">action_ajax($rawurl, array $query = [], array $urlopts = [])</span>
<ul><li>Sets the form action to AJAX and the target url to <code>$rawurl</code>. The target url have to be an <a href="ajax.html#ajaxhandler">ajax handler</a>. The response will processed by the CodKep's <a href="ajax.html">ajax framework</a>. The other parameters are passed to the <code>url()</code> function. See the <a href="routes.html#urlfunc">documentation of <code>url()</code></a></li></ul></li><li><span class="definition">action_ajaxcallback($target,array $query = [],array $urlopts = [])</span>
<ul><li>Sets the form action to AJAX and the target will be an autorouted user defined ajax callback function specified by <code>$target</code> parameter. The ajax handler callback function name has to start with "extcallable_" prefix becouse security considerations, <a href="ajax.html#arahsecrest">see here</a>. The response will processed by the CodKep's <a href="ajax.html">ajax framework</a>. The other parameters are passed to the <code>url()</code> function. See the <a href="routes.html#urlfunc">documentation of <code>url()</code></a></li></ul></li><li><span class="definition">action_postcallback($target,array $query = [],array $urlopts = [])</span>
<ul><li>Sets the form action to "POST" and the target will be an autorouted user defined callback function specified by <code>$target</code> parameter. The callback function name has to start with "extcallable_" prefix becouse security considerations, <a href="ajax.html#arahsecrest">see here</a>. The other parameters are passed to the <code>url()</code> function. See the <a href="routes.html#urlfunc">documentation of <code>url()</code></a></li></ul></li><li><span class="definition">input($type, $n, $v, array $opts = [])</span>
<ul><li>Adds an input tag to the form with type received in <code>$type</code> parameter.
<ul><li>The <code>$type</code> parameter can receive the following values:
<ul><li><code>"text" "number" "password" "submit" "file"</code> - These values are generates a single html input tag and the type parameter's value passed through to the input tag type.</li><li><code>"raw"</code> - It does not generate html tags, the data is simply written to the output.</li><li><code>"checkbox"</code> - It generates a html input tag with checkbox type and a second hidden input tag to handle false values.</li></ul></li><li>The <code>$n</code> parameter is the name of the input tag.</li><li>The <code>$v</code> parameter is the default value of the input tag.</li><li>The <code>$opts</code> is an associative array can set some features of the field.
<ul><li><code>"class"=string</code> - Sets the css class of the field.</li><li><code>"style"=string</code> - Sets the css/style attribute of the field.</li><li><code>"onclick"=string</code> - Sets the onclick attribute of the field.</li><li><code>"onchange"=string</code> - Sets the onchange attribute of the field.</li><li><code>"id"=string</code> - Sets the ID of the field.</li><li><code>"before"=string</code> - Put this text before the tag.</li><li><code>"after"=string</code> - Put this text after the tag.</li><li><code>"size"=number</code> - Sets the size attribute of the field.</li><li><code>"maxlength"=number</code> - Sets the maxlength attribute of the field.</li><li><code>"readonly"=true</code> - Sets the field readonly.</li><li><code>"autofocus"=true</code> - Sets the form item has the initial focus</li><li><code>"lang"=text</code> - Adds the "lang" attribute to the input tag to avoid locale specific number format problems.</li><li><code>"required"=true</code> - Sets the html5 required and aria-required attribute. (The form handles the field as mandatory)</li><li><code>"placeholder"=string</code> - Add a placeholder value (value hint)</li><li><code>"rawattributes"=string</code> - Adds additional parameters to the html tag as raw string</li></ul></li></ul></li></ul></li><li><span class="definition">text($name, $t, array $opts = [])</span>
<ul><li>Adds a simple text to the form (Not an input field, this is only a text to display)
<ul><li>The <code>$name</code> parameter is the name of the item. (Not displayed)</li><li>The <code>$t</code> parameter is the text to display</li><li>The <code>$opts</code> is an associative array can set some features of the field.
<ul><li><code>"class"=string</code> - Sets the css class of the field.</li><li><code>"style"=string</code> - Sets the css/style attribute of the field.</li><li><code>"onclick"=string</code> - Sets the onclick attribute of the field.</li><li><code>"id"=string</code> - Sets the ID of the field.</li><li><code>"before"=string</code> - Put this text before the tag.</li><li><code>"after"=string</code> - Put this text after the tag.</li><li><code>"readonly"=true</code> - Sets the field readonly.</li></ul></li></ul></li></ul></li><li><span class="definition">upload($n, $v, array $opts = [])</span>
<ul><li>Adds a file upload field to the form (This is an <code>input type="file"</code> tag)
<ul><li>The <code>$name</code> parameter is the name of the field.</li><li>The <code>$v</code> parameter is the default value of the input tag. (Leave it empty)</li><li>The <code>$opts</code> is an associative array can set some features of the field.
<ul><li><code>"class"=string</code> - Sets the css class of the field.</li><li><code>"style"=string</code> - Sets the css/style attribute of the field.</li><li><code>"onclick"=string</code> - Sets the onclick attribute of the field.</li><li><code>"id"=string</code> - Sets the ID of the field.</li><li><code>"before"=string</code> - Put this text before the tag.</li><li><code>"after"=string</code> - Put this text after the tag.</li><li><code>"size"=number</code> - Sets the size attribute of the field.</li><li><code>"maxlength"=number</code> - Sets the maxlength attribute of the field.</li><li><code>"readonly"=true</code> - Sets the field readonly.</li></ul></li></ul></li></ul></li><li><span class="definition">select($type, $n, $v, array $values = [], array $opts = [])</span>
<ul><li>Adds a select (dropdown), radio or optional select field to the form.
<ul><li>The <code>$type</code> parameter can receive the following values:
<ul><li><code>"select"</code> - Generates a html select. (Dropdown select)</li><li><code>"radio"</code> - Generates a html radio buttons.</li><li><code>"optselect"</code> - Generate an optional html select. (It can holds NULL value)</li></ul></li><li>The <code>$name</code> parameter is the name of the field.</li><li>The <code>$v</code> parameter is the default value of the select.</li><li>The <code>$values</code> parameter is an associative array holds the possible values of the select. The indexes are the keys, the values are the displayed texts.</li><li>The <code>$opts</code> is an associative array can set some features of the field.
<ul><li><code>"class"=string</code> - Sets the css class of the field.</li><li><code>"style"=string</code> - Sets the css/style attribute of the field.</li><li><code>"onclick"=string</code> - Sets the onclick attribute of the field.</li><li><code>"onchange"=string</code> - Sets the onchange attribute of the field.</li><li><code>"id"=string</code> - Sets the ID of the field.</li><li><code>"before"=string</code> - Put this text before the tag.</li><li><code>"after"=string</code> - Put this text after the tag.</li><li><code>"readonly"=true</code> - Sets the field readonly.</li><li><code>"autofocus"=true</code> - Sets the form item has the initial focus</li><li><code>"itemprefix"=string</code> - This string is written immediately before the item tags. Before the option tags in select mode and before the input and label tags in radio mode.</li><li><code>"itemsuffix"=string</code> - This string is written immediately after the item tags. After the option tags in select mode and after the input and label tags in radio mode.</li><li><code>"itemlabelprefix"=string</code> - This string is written before the label text ind radio mode.</li><li><code>"itemlabelsuffix"=string</code> - This string is written after the label text ind radio mode.</li><li><code>"rawattributes"=string</code> - Adds additional parameters to the html tag as raw string</li></ul></li></ul></li></ul></li><li><span class="definition">textarea($n, $v, $row, $col, array $opts = [])</span>
<ul><li>Adds a textarea field to the form. (Large text editor field)
<ul><li>The <code>$name</code> parameter is the name of the field.</li><li>The <code>$v</code> parameter is the default value of the select.</li><li>The <code>$row</code> parameter is the row count (height) of the textarea tag.</li><li>The <code>$col</code> parameter is the column count (width) of the textarea tag.</li><li>The <code>$opts</code> is an associative array can set some features of the field.
<ul><li><code>"class"=string</code> - Sets the css class of the field.</li><li><code>"style"=string</code> - Sets the css/style attribute of the field.</li><li><code>"onclick"=string</code> - Sets the onclick attribute of the field.</li><li><code>"onchange"=string</code> - Sets the onchange attribute of the field.</li><li><code>"id"=string</code> - Sets the ID of the field.</li><li><code>"before"=string</code> - Put this text before the tag.</li><li><code>"after"=string</code> - Put this text after the tag.</li><li><code>"readonly"=true</code> - Sets the field readonly.</li><li><code>"softreadonly"=true</code> - Disable input of textarea. (See the standard html textarea readonly attribute)</li><li><code>"disablercsize"=true</code> - Disable put row and col attributes to the textarea html tag.</li><li><code>"autofocus"=true</code> - Sets the form item has the initial focus</li><li><code>"required"=true</code> - Sets the html5 required and aria-required attribute. (The form handles the field as mandatory)</li><li><code>"placeholder"=string</code> - Add a placeholder value (value hint)</li><li><code>"rawattributes"=string</code> - Adds additional parameters to the html tag as raw string</li></ul></li></ul></li></ul></li><li><span class="definition">hidden($n, $v, array $opts = [])</span>
<ul><li>Adds a hidden field to the form (This is an <code>input type="hidden"</code> tag)
<ul><li>The <code>$name</code> parameter is the name of the field.</li><li>The <code>$v</code> parameter is the value of the field.</li><li>The <code>$opts</code> is an associative array can set some features of the field.
<ul><li><code>"class"=string</code> - Sets the css class of the field.</li><li><code>"style"=string</code> - Sets the css/style attribute of the field.</li><li><code>"onclick"=string</code> - Sets the onclick attribute of the field.</li><li><code>"id"=string</code> - Sets the ID of the field.</li><li><code>"before"=string</code> - Put this text before the tag.</li><li><code>"after"=string</code> - Put this text after the tag.</li></ul></li></ul></li></ul></li><li><span class="definition">hidden_array(array $keyvalue, array $opts=[])</span>
<ul><li>Adds the parameter passed <code>$keyvalue</code> associative array every elements to the form as hidden fields. The keys of the array is the parameter names while the values act as hidden values.</li><li>The <code>$opts</code> parameter is added for every fields and works same as <code>hidden()</code> method above.</li></ul></li><li><span class="definition">datefield($type, $n, $v, array $opts = [])</span>
<ul><li>Adds a date typed field to the form. This will be a dropdown select for years, months and days.</li><li>The parameter <code>$type</code> should be <code>"date"</code> or <code>"dateu"</code>
<ul><li>The type <code>"date"</code> means a simple date field with year, month and day selector.</li><li>The type <code>"dateu"</code> means a date field which can accept the "unknown" state. This case an extra checkbox will put next to the date which represents the unknown value.</li></ul></li><li>The <code>$name</code> parameter is the name of the field.</li><li>The <code>$v</code> parameter is the value of the field.</li><li>The <code>$opts</code> is an associative array can set some features of the field.
<ul><li><code>"class"=string</code> - Sets the css class of the field.</li><li><code>"style"=string</code> - Sets the css/style attribute of the field.</li><li><code>"onclick"=string</code> - Sets the onclick attribute of the field.</li><li><code>"id"=string</code> - Sets the ID of the field.</li><li><code>"before"=string</code> - Put this text before the tag.</li><li><code>"after"=string</code> - Put this text after the tag.</li></ul></li></ul></li><li><span class="definition">input_p($type, $n, $v, array $opts = [])</span>
<ul><li>Same as <code>input()</code> method but define and query the previous set HTML parameter value through the CodKep <a href="parameters.html">parameter system</a>. If the parameter which defined by this field is set, the form value will display the already set value. (The method is automatically define the requested parameter)</li><li>If the <code>$opts</code> array contains the <code>'par_sec'</code> index, the field will be defined by the valued security class instead of the type default in the <a href="parameters.html">CodKep parameter system</a>.</li><li>If the <code>$opts</code> array contains an index <code>'no_par_def'</code> with <code>true</code> value the parameter definition (with the par_def() function)is skipped. Use it if you already define the parameter before and only need to load the set value into the form.</li><li>If the <code>$opts</code> array contains an index <code>'no_par_load'</code> with <code>true</code> value the parameter loading is skipped even if the value is received, and the original default value is used instead.</li></ul></li><li><span class="definition">select_p($type, $n, $v, array $values = [], array $opts = [])</span>
<ul><li>Same as <code>select()</code> method but define and query the previous set HTML parameter value through the CodKep <a href="parameters.html">parameter system</a>. If the parameter which defined by this field is set, the form value will display the already set value. (The method is automatically define the requested parameter)</li><li>If the <code>$opts</code> array contains the <code>'par_sec'</code> index, the field will be defined by the valued security class instead of the type default in the <a href="parameters.html">CodKep parameter system</a>.</li><li>If the <code>$opts</code> array contains an index <code>'no_par_def'</code> with <code>true</code> value the parameter definition (with the par_def() function)is skipped. Use it if you already define the parameter before and only need to load the set value into the form.</li><li>If the <code>$opts</code> array contains an index <code>'no_par_load'</code> with <code>true</code> value the parameter loading is skipped even if the value is received, and the original default value is used instead.</li></ul></li><li><span class="definition">textarea_p($n, $v, $row, $col, array $opts = [])</span>
<ul><li>Same as <code>textarea()</code> method but define and query the previous set HTML parameter value through the CodKep <a href="parameters.html">parameter system</a>. If the parameter which defined by this field is set, the form value will display the already set value. (The method is automatically define the requested parameter)</li><li>If the <code>$opts</code> array contains the <code>'par_sec'</code> index, the field will be defined by the valued security class instead of the type default in the <a href="parameters.html">CodKep parameter system</a>.</li><li>If the <code>$opts</code> array contains an index <code>'no_par_def'</code> with <code>true</code> value the parameter definition (with the par_def() function)is skipped. Use it if you already define the parameter before and only need to load the set value into the form.</li><li>If the <code>$opts</code> array contains an index <code>'no_par_load'</code> with <code>true</code> value the parameter loading is skipped even if the value is received, and the original default value is used instead.</li></ul></li><li><span class="definition">datefield_p($type, $n, $v, array $opts = [])</span>
<ul><li>Same as <code>datefield()</code> method but define and query the previous set HTML parameter value through the CodKep <a href="parameters.html">parameter system</a>. If the parameter which defined by this field is set, the form value will display the already set value. (The method is automatically define the requested parameter)</li><li>If the <code>$opts</code> array contains the <code>'par_sec'</code> index, the field will be defined by the valued security class instead of the type default in the <a href="parameters.html">CodKep parameter system</a>.</li><li>If the <code>$opts</code> array contains an index <code>'no_par_def'</code> with <code>true</code> value the parameter definition (with the par_def() function)is skipped. Use it if you already define the parameter before and only need to load the set value into the form.</li><li>If the <code>$opts</code> array contains an index <code>'no_par_load'</code> with <code>true</code> value the parameter loading is skipped even if the value is received, and the original default value is used instead.</li></ul></li><li><span class="definition">custom($name, $value, callable $callback, array  $opts = [])</span>
<ul><li>Adds a custom form element to the form with a user defined callback function to generate html codes.
<ul><li>The <code>$name</code> parameter is the name of the from element.</li><li>The <code>$value</code> parameter is the value of the field.
<ul><li><em>Note: Your callback function receive this value in the "value" item of the $elementarray parameter</em></li></ul></li><li>The <code>$callback</code> parameter is the callback function which generates the html codes of the custom element.
<ul><li>The callback function should looks like the following way:
<ul><li><span class="definition">my_custom_form_callback($formobject,$elementarray,$readonly)</span>
<ul><li>The <code>$formobject</code> parameter holds the whole form object where the element is generated.</li><li>The <code>$elementarray</code> parameter holds the options array of the custom made form element. This array holds every available information which passed from api side. (Holds name and value too.)</li><li>The <code>$readonly</code> parameter is true when readonly form should generate, otherwise is false.</li></ul></li><li>The callback function should return the html codes of the custom made element. The "after" and "before" strings are concatenated, but the others like "class" or "id", etc should be handled by your custom codes.</li></ul></li></ul></li><li>The <code>$opts</code> is an associative array can set some features of the field. <em>This options below does not have any</em> <em>effect to the generated code. (Except before and after) Your callback will receive these values as parameter!</em>
<ul><li><code>"class"=string</code> - Sets the css class of the field.</li><li><code>"style"=string</code> - Sets the css/style attribute of the field.</li><li><code>"onclick"=string</code> - Sets the onclick attribute of the field.</li><li><code>"onchange"=string</code> - Sets the onchange attribute of the field.</li><li><code>"id"=string</code> - Sets the ID of the field.</li><li><code>"before"=string</code> - Put this text before the tag.</li><li><code>"after"=string</code> - Put this text after the tag.</li><li><code>"size"=number</code> - Sets the size attribute of the field.</li><li><code>"maxlength"=number</code> - Sets the maxlength attribute of the field.</li><li><code>"readonly"=true</code> - Sets the field readonly.</li><li><code>"autofocus"=true</code> - Sets the form item has the initial focus</li><li><code>"itemprefix"=string</code> - This string is written immediately before the item tags.</li><li><code>"itemsuffix"=string</code> - This string is written immediately after the item tags.</li><li><code>"required"=true</code> - Sets the html5 required and aria-required attribute. (The form handles the field as mandatory)</li><li><code>"placeholder"=string</code> - Add a placeholder value (value hint)</li><li><code>"rawattributes"=string</code> - Adds additional parameters to the html tag as raw string</li></ul></li></ul></li></ul></li><li><span class="definition">setCallback($name, callable $callback)</span>
<ul><li>You can add a named callback to the object and run it later with the given name. This callbacks can used as macros. This callback mechanism works same in HtmlTable,HtmlForm and ExcelXmlDocument. It possible to set different callbacks with same names to achieve different mechanism on same event.</li><li>The callbacks receives two parameters:
<ul><li>The object reference where the callback is set (HtmlTable,HtmlForm and ExcelXmlDocument)</li><li>The optional parameter passed to <code>run()</code></li></ul></li><li>Example: <code>$t->setCallback("sep",function($x,$p) { $x->nrows(2); return ''; });</code></li></ul></li><li><span class="definition">run($name, $parameter = null)</span>
<ul><li>Calls the callback by name which set through <code>setCallback()</code></li><li>The <code>$parameter</code> is an optional parameter passed directly to the callback</li><li>Example: <code>$t->run("sep");</code></li></ul></li></ul><p><a name="htmlformcodgen"></a>
<strong>The code generation methods of HtmlForm class:</strong>
</p>
<ul><li><span class="definition">get($readonly = false)</span>
<ul><li>Generate the html code of the whole form. The output of this function can directly printed to the clients. Calling this function is equivalent to call <code>get_start()</code> <code>get_p()</code> <code>get_end()</code> sequentially.
<ul><li>If the <code>$readonly</code> parameter is <code>true</code> the function generated a "readonly form". (The "readonly form" is technically not a html form but a simple table or div structure to display data)</li></ul></li></ul></li><li><span class="definition">get_start($readonly = false)</span>
<ul><li>Generates the html open tag of the form.
<ul><li>If the <code>$readonly</code> parameter is <code>true</code> the function generated a "readonly form".</li></ul></li></ul></li><li><span class="definition">get_p($readonly = false)</span>
<ul><li>Generate the whole form inner codes without the form open and close tag.
<ul><li>If the <code>$readonly</code> parameter is <code>true</code> the function generated a "readonly form".</li></ul></li></ul></li><li><span class="definition">get_end($readonly = false)</span>
<ul><li>Generate the html close tag of the form.
<ul><li>If the <code>$readonly</code> parameter is <code>true</code> the function generated a "readonly form".</li></ul></li></ul></li><li><span class="definition">get_one($name,$readonly = false)</span>
<ul><li>Generate the html codes only for the specified form field.
<ul><li>If the <code>$readonly</code> parameter is <code>true</code> the function generated a "readonly form".</li></ul></li></ul></li><li><span class="definition">get_part($first, $last, $readonly = false)</span>
<ul><li>Generate the specified part of the form fields.
<ul><li>The parameter <code>$first</code> specify the name of the first field which generated by this call.</li><li>The parameter <code>$last</code> specify the name of the last field which generated by this call.</li><li>If the <code>$readonly</code> parameter is <code>true</code> the function generated a "readonly form".</li></ul></li></ul></li></ul><p><a name="formformatter"></a>
<strong>Using of form formatters</strong>
</p>
<p>The <code>HtmlForm</code> object can receive a <code>HtmlFormFormatter</code> descendant object which can format/specify
the output mode of the form. You can write own form formatter class to display custom forms.
(Later the <code>SpeedForm</code> class will use it's own formatter to achieve the special functionalities)
</p>
<p>Let's see an example of creating a custom form formatter putting everything into divs:
</p><pre><code class="php">class MyFormatter extends HtmlFormFormatter
{
    public function __construct()
    {
        $this-&gt;name = 'MyFormatter';
    }
    function begin_form($txt)
    {
        return '&lt;div class="myform-whole"&gt;'.$txt;
    }
    function end_form($txt)
    {
        return $txt.'&lt;/div&gt;';
    }
    function item($txt,$name)
    {
        return '&lt;div class="myformitem-'.$name.'"&gt;'.$txt.'&lt;/div&gt;';
    }
}
</code></pre><p>You can set this form formatter to arbitrary form:
</p><pre><code class="php">$f = new HtmlForm('myfirstform');
...
$f-&gt;set_formatter(new MyFormatter());
...
print $f-&gt;get();
</code></pre><p><strong>Hint: How to arrange HtmlForm fields by html table without form formatter</strong>
</p>
<p></p><pre><code class="php">$f = new HtmlForm();
$f-&gt;action_post(current_loc());
$f-&gt;hidden('somehiddenval',$hval);
$f-&gt;text('tb','&lt;table border="1"&gt;');

$f-&gt;text('l1','&lt;tr&gt;&lt;td&gt;Data One&lt;/td&gt;');
 $f-&gt;input('text','name','',['before' =&gt; '&lt;td&gt;', 'after' =&gt; '&lt;/td&gt;&lt;/tr&gt;']);

$f-&gt;text('l2','&lt;tr&gt;&lt;td&gt;Data Two&lt;/td&gt;');
 $f-&gt;textarea('descr','',3,30,['before' =&gt; '&lt;td&gt;','after' =&gt; '&lt;/td&gt;&lt;/tr&gt;']);

$f-&gt;text('l3','&lt;tr&gt;&lt;td&gt;Data Three&lt;/td&gt;');
 $f-&gt;datefield('date','start',date('Y-m-d'),['before' =&gt; '&lt;td&gt;','after' =&gt; '&lt;/td&gt;&lt;/tr&gt;']);

$f-&gt;text('te','&lt;/table&gt;');
 $f-&gt;input('submit','dosave','Save item');

print $f-&gt;get();
</code></pre><p>This code above generates a form looks like this way:
</p>
<p><img src="images/htmlformembtab.png" title="Html form embedded in table"  style="border: 2px solid #999; " alt="htmlformembtab.png"/>
</p>
<p><a name="formcheck"></a>
</p><a name="pos_3"><h3>Form checker method</h3></a>
<p>The HtmlForm class automatically appends a hidden value to the form which is regularly change.
It's recommended to check this values in case of parameter loading to make harder to do CSRF attacks.
</p>
<p><span class="definition">form_source_check($disable_auto_redirect = false)</span>
<br/>
Check the form source value through the CodKep's parameter system and do automatic redirection
to an error location if difference detected.
</p>
<ul><li>You can disable the automatic redirection by set <code>$disable_auto_redirect</code> parameter to <code>true</code>. This case you can check the return value of the function, which is <code>true</code> if malicious activity detected.</li></ul><p><em>Note: The SpeedForm do this check automatically on parameter load.</em>
<a name="speedform"></a>
</p><a name="pos_4"><h1>The SpeedForm </h1></a>
<p>There is a more versatile form generation class which can build more styled forms and can handle sql operations too.
This class is the <code>SpeedForm</code>. The <code>SpeedForm</code> improve the functionality of <code>HtmlForm</code>.
</p>
<p><strong>The SpeedForm connects the HTML side data with the database backend, and handle both together.</strong>
<strong>The SpeedForm is a html form from the html side. While from database side it represents a record of an sql table.</strong>
</p>
<p>You have to define a complex <a href="#speedformdatadef">data definition structure</a> when creating a SpeedForm.
This definition structure can specify the field names, database related features, the look & feel,
form customisations, data validations and everything which needed to build and use a complex form.
<br/>
This data definition structure is a big associative array, which have to passed to the constructor of <code>SpeedForm</code>.
You can write it by hand or build with <a href="javascript:alert('This url works on an installed CodKep instance. It is unavailable in this offline document.');">SpeedForm builder</a>.
The documentation is located <a href="#speedformdatadef">under different chapter</a>.
</p>
<p>The SpeedForm contains fields, and the <em>fields have a type which specify both the html side appearance</em>
<em>and the database types/features</em>.
The main goal of the data definition structure to specify this fields.
There is an important expectation of SpeedForm is that a <strong>key typed field is mandatory</strong>, you always have to define one.
(It's can be a <code>keyn</code> or <code>keys</code> type in SpeedForm)
</p>
<p>The SpeedForm object can achieve the following main operations:
</p>
<ul><li>Build <a href="#htmlformclass">HtmlForm</a> object (Which can directly generate html codes)</li><li>Query and get the values from the database and store it's internal state.</li><li>Load html POST/GET parameter through <a href="parameters.html">CodKep's parameter system</a>.</li><li>Validate the loaded values with various checks.</li><li>Save/Update or Add/Insert the values to the database.</li><li>Generate query/select/update/insert SQL command strings.</li></ul><p>Simple example of using SpeedForm (it's only show an empty form):
</p><pre><code class="php">// $def is contains the data definition, see next code block below
$sf = new SpeedForm($def);
$form = $sf-&gt;generate_form('update'); //Generating a HtmlFrom object
$form-&gt;action_post('formsubmitlocation'); //Set the handle url of the form
print $form-&gt;get(); //Generate & print the concrete html codes
</code></pre><p>This code above can show a complete styled form looks like this way:
</p>
<p><img src="images/sf_example_ftable.png" title="Html result of the definition above"  style="border: 2px solid #999; " alt="sf_example_ftable.png"/>
</p>
<p>The definition structure of this form is the following (It was built by <a href="javascript:alert('This url works on an installed CodKep instance. It is unavailable in this offline document.');">SpeedForm builder</a>):
</p>
<p></p><pre><code class="php">$def =
  [
      "name" =&gt; "people_spec",
      "table" =&gt; "people",
      "show" =&gt; "table",
      "color" =&gt; "#88ff88",
      "fields" =&gt; [
          10 =&gt; [
              "sql" =&gt; "uid",
              "type" =&gt; "keyn",
              "text" =&gt; "Identifier",
          ],
          20 =&gt; [
              "sql" =&gt; "name",
              "type" =&gt; "smalltext",
              "text" =&gt; "Name",
              "color" =&gt; "#44cc44",
          ],
          30 =&gt; [
              "sql" =&gt; "birth",
              "type" =&gt; "date",
              "text" =&gt; "Birthdate",
          ],
          40 =&gt; [
              "sql" =&gt; "sex",
              "type" =&gt; "txtradio",
              "text" =&gt; "Gender",
              "color" =&gt; "#f8f888",
              "values" =&gt; [
                  "m" =&gt; "Male",
                  "f" =&gt; "Female",
              ],
          ],
          50 =&gt; [
              "sql" =&gt; "hair",
              "text" =&gt; "Hair color",
              "type" =&gt; "txtselect",
              "optional" =&gt; "yes",
              "values" =&gt; [
                  "b" =&gt; "Brown",
                  "l" =&gt; "Blonde",
                  "e" =&gt; "Black",
                  "r" =&gt; "Red",
                  "o" =&gt; "Other",
              ],
              "default" =&gt; "b",
          ],
          60 =&gt; [
              "sql" =&gt; "note",
              "type" =&gt; "largetext",
              "text" =&gt; "Note",
              "col" =&gt; 30,
              "row" =&gt; 3,
          ],
          70 =&gt; [
              "sql" =&gt; "active",
              "text" =&gt; "Account activated",
              "type" =&gt; "check",
              "default" =&gt; true,
              "suffix" =&gt; "yes",
          ],
          80 =&gt; [
              "sql" =&gt; "add_btn",
              'in_mode' =&gt; 'insert',
              "type" =&gt; "submit",
              "default" =&gt; 'Add',
              "centered" =&gt; true,
          ],
          90 =&gt; [
              "sql" =&gt; "save_btn",
              'in_mode' =&gt; 'update',
              "type" =&gt; "submit",
              "default" =&gt; 'Save',
              "centered" =&gt; true,
          ],
      ],
  ];
</code></pre><a name="pos_5"><h3>Methods of SpeedForm</h3></a>

<ul><li><span class="definition">SpeedForm($definition)</span> (The is the <code>__construct</code> function)
<ul><li>The parameter is an associative array which is the data definition structure <a href="#speedformdatadef">documented here</a>.</li></ul></li><li><span class="definition">index_of($sql)</span>
<ul><li>Returns the index of the field matched with the name passed in parameter. (Match with "sql" property under the field definition)</li></ul></li><li><span class="definition">get_key_name()</span>
<ul><li>Returns the sql <em>name</em> of the (first)field which has the "key" type (<code>keys</code> or <code>keyn</code>).</li></ul></li><li><span class="definition">get_key()</span>
<ul><li>Returns the internal stored <em>value</em> of the key field. (See <code>get_key_name()</code>)</li></ul></li><li><span class="definition">get_key_sqlvalue($strip = false)</span>
<ul><li>Returns the value of the key field which is directly usable in sql commands. (Contains apostrophes if needed)
<ul><li>If the <code>$strip</code> parameter is <code>true</code> the value can placed in <code>sql_exec</code> parameter array, otherwise can usable embed in command string.</li></ul></li></ul></li><li><span class="definition">set_key($v)</span>
<ul><li>Sets the value of the key field. (See <code>get_key_name()</code>) It's only set the key value in the SpeedForm internal state not the database.
<ul><li>The parameter <code>$v</code> is the value to set.</li></ul></li></ul></li><li><span class="definition">&get_field($sql)</span>
<ul><li>Returns a reference of the parameter specified field definition part.</li></ul></li><li><span class="definition">get_value($sql)</span>
<ul><li>Returns the value of the field which name is specified in <code>$sql</code> parameter.</li></ul></li><li><span class="definition">get_display_value($sql)</span>
<ul><li>Returns the display value of the field which name is specified in <code>$sql</code> parameter.</li><li>You can always get the value of a field by <code>get_value()</code> function but some fields (like the txtselect, numselect, sqlchoose) holds a key value not the display value referenced by the key. You can get the desired display value with this function. Most cases (like field type smalltext and largetext) this function directly pass the value.</li></ul></li><li><span class="definition">get_display_for_external_value($sql,$value)</span>
<ul><li>Returns the display value of the field which name is specified in <code>$sql</code> parameter for the passed value.</li></ul></li><li><span class="definition">set_value($sql,$value)</span>
<ul><li>Sets the value of the specified field to <code>$value</code>. The <code>$sql</code> is the name of the field to set.</li></ul></li><li><span class="definition">function in_action($action = 'submit')</span>
<ul><li>Determines if the current page load have POST/GET parameters submitted by this form previously. If yes returns <code>true</code> otherwise <code>false</code>.
<ul><li>You can use this function to determine if the parameter specified operation is in progress. According to this the parameter can be the following  strings:
<ul><li><code>"submit"</code> - Any kind of submit operation is in progress</li><li><code>"insert"</code> - An insert/add operation is in progress</li><li><code>"update"</code> - An update/save operation is in progress</li><li><code>"delete"</code> - A delete operation is in progress</li><li><code>"select"</code> - A select/query operation is in progress</li></ul></li></ul></li></ul></li><li><span class="definition">in_specified_action($sql)</span>
<ul><li>Determines if the current page load have the specified POST/GET parameter submitted by this form previously.
<ul><li>Parameter <code>$sql</code> the sql name of the field to test.</li></ul></li></ul></li><li><span class="definition">load_parameters()</span>
<ul><li>Reads the defined GET/POST parameters through the <a href="parameters.html">CodKep's parameter system</a> and set the values into the internal state.</li><li>Some fields needs to load later (after validating) because the loading of the field implicate sql changes in the system. For example a file loading implicate the creating of file record in CodKep file system. To avoid dead/orphan changes in case of a validation error of an another field, this kind of loading done in <code>load_parameters_deferred</code> automatically. It does not need to call deferred loading, it's done automatically before sql create or update string generation if the normal load_parameters is called. Consequence of these some value can be not really loaded before sql command generation. For example an uploaded file's value can be "deferred_new_ufi" in this phase.</li></ul></li><li><span class="definition">load_values($vals)</span>
<ul><li>Load the field values from a parameter passed array. The <code>$vals</code> parameter should be an associative array where the indexes are the field names.</li></ul></li><li><span class="definition">generate_form($mode='all',$tablename='')</span>
<ul><li>This function generates and returns a fully set <code>HtmlForm</code> object (with the special <code>HtmlFormFormatter</code> object set) which can generates necessary the html codes of the form. The shortest method is to call <code>->get()</code> on this returned object. See documentation of <a href="#htmlformclass">HtmlForm</a>.
<ul><li>You have to specify the desired action achieved by form in <code>$mode</code> parameter.
<ul><li>The possible values are <code>'all'</code>,<code>'select'</code>,<code>'insert'</code>,<code>'update'</code>,<code>'delete'</code>.</li></ul></li><li>The correctly set <code>$mode</code> parameter is essential to work field skipping mechanism (See <a href="#skiptable">skip table</a>) and "in_mode" field attribute for submit fields.</li></ul></li></ul></li><li><span class="definition">do_select()</span>
<ul><li>Perform an SQL query (SELECT) and reads the results into the internal state of SpeedForm. The key field's value has to set to perform this query. Use <code>set_key($v)</code> function to do this.</li></ul></li><li><span class="definition">do_insert($disable_checks = false)</span>
<ul><li>Perform an SQL insert to store the values holds in internal state into the database.
<ul><li>If the <code>$disable_checks</code> parameter is <code>true</code> the <code>do_insert</code> won't run the data validation before the operation.</li></ul></li><li>The function returns the key of the inserted record.</li></ul></li><li><span class="definition">do_update($disable_checks = false)</span>
<ul><li>Perform an SQL update to save the values holds in internal state into the database.
<ul><li>If the <code>$disable_checks</code> parameter is <code>true</code> the <code>do_update</code> won't run the data validation and form expiry checks before the operation.</li></ul></li></ul></li><li><span class="definition">do_create()</span>
<ul><li>Creates the SQL table in the database.</li></ul></li><li><span class="definition">do_validate($mode,$auto_handle=true)</span>
<ul><li>Perform data validation check on values present in the internal state. The <code>do_update()</code>,<code>do_insert()</code> functions are automatically do this before save. This function marks the fields which not pass the checks so that bad fields is highlighted to the user if the form is generated after this validation check. To utilize this you have to disable the automatic error redirection, see the <code>$auto_handle</code> parameter.
<ul><li>Returns zero if every test passed or <code>1</code> if some field does not pass the test. In case of <code>1</code> returned you can read the <code>SpeedForm</code> object's <code>validate_errortext</code> attribute which contains an error text which describe the reasons.</li><li>If <code>$auto_handle</code> parameter is <code>true</code> (default) the do_validate function perform an automatic <a href="routes.html#redirections">redirection</a> to an error page in case of non valid data found and shows the error describe text. (On that redirected error page)</li></ul></li><li>You have to specify the desired operation in <code>$mode</code> parameter by setting "insert","update" or "delete". If you miss specification of this parameter you will get an exception. You have to specify this because the field skipping logic, need to do if we need to skip or check the actual field. (See <a href="#skiptable">skip table</a>)</li></ul></li><li><span class="definition">do_expirity_check($auto_handle=true)</span>
<ul><li>Do a form expiry check. The <code>do_update()</code> function are automatically do this before save.</li><li>The expiry check only works if a <code>timestamp_mod</code> typed field is exists.</li><li><em>The expiry check</em>: When the SpeedForm first time read the values from the database, the timestamp field is also read and put to the form as hidden parameter. Immediately before the save event the CodKep will re-read this timestamp from database and compares with the one received as parameter. If the two values are differs it means that somebody modified the database value meanwhile, so a "form expired" error message will popped up, and the update is blocked to save the meanwhile stored data.</li><li>Return values:
<ul><li><code>0</code> - Check done, It doesn't require refresh.</li><li><code>1</code> - Check indicates the form is expired.</li><li><code>2</code> - Error, Could not run the check</li></ul></li></ul></li><li><span class="definition">clean_before_delete()</span>
<ul><li>This function removes every file referenced by the SpeedForm's internal state in case the <code>ondelete=keep</code> attribute is not set. Useful run before delete of the record.</li></ul></li><li><span class="definition">sql_select_string($tablename='')</span>
<ul><li>It generates the SQL query/select string. The parameters are embedded to the string.</li></ul></li><li><span class="definition">sql_select_string_PQ($tablename='')</span></li><li><span class="definition">sql_select_string_PA($tablename='')</span>
<ul><li>It generates the SQL query/select string with parameter placeholders and the parameter substitutes array.</li><li>The <code>sql_select_string_PQ</code> generates the command string with placeholders while the <code>sql_select_string_PA</code> generates the substitutes array.</li><li>Sample: <code>sql_exec( $sf->sql_select_string_PQ() , $sf->sql_select_string_PA() );</code></li></ul></li><li><span class="definition">sql_update_string($tablename='')</span>
<ul><li>It generates the SQL update string. The parameters are embedded to the string.
<ul><li>The parameter <code>$tablename</code> can restrict the fields to that ones which located in parameter passed database table.</li></ul></li></ul></li><li><span class="definition">sql_update_string_PQ($tablename='')</span></li><li><span class="definition">sql_update_string_PA($tablename='')</span>
<ul><li>It generates the SQL update string with parameter placeholders and the parameter substitutes array.
<ul><li>The parameter <code>$tablename</code> can restrict the fields to that ones which located in parameter passed database table.</li></ul></li><li>The <code>sql_update_string_PQ</code> generates the command string with placeholders while the <code>sql_update_string_PA</code> generates the substitutes array.</li><li>Sample: <code>sql_exec( $sf->sql_update_string_PQ() , $sf->sql_update_string_PA() );</code></li></ul></li><li><span class="definition">sql_insert_string($tablename='',array $extra = [])</span>
<ul><li>It generates the SQL insert string. The parameters are embedded to the string.
<ul><li>The parameter <code>$tablename</code> can restrict the fields to that ones which located in parameter passed database table.</li><li>If the parameter <code>$extra</code> is a not empty array, the function adds the array index - value pairs to the SQL insert string. (The value will put directly to the VALUES part not through the sql query parameter system. It means that you can write function names here and/or must put string sign to the value in case of string value is passed)</li></ul></li></ul></li><li><span class="definition">sql_insert_string_PQ($tablename='',array $extra = [])</span></li><li><span class="definition">sql_insert_string_PA($tablename='',array $extra = [])</span>
<ul><li>It generates the SQL insert string with parameter placeholders and the parameter substitutes array.
<ul><li>The parameter <code>$tablename</code> can restrict the fields to that ones which located in parameter passed database table.</li><li>If the parameter <code>$extra</code> is a not empty array, the function adds the array index - value pairs to the SQL insert string. (The value will put directly to the VALUES part not through the sql query parameter system. It means that you can write function names here and/or must put string sign to the value in case of string value is passed)</li></ul></li><li>The <code>sql_insert_string_PQ</code> generates the command string with placeholders while the <code>sql_insert_string_PA</code> generates the substitutes array.</li><li>Sample: <code>sql_exec( $sf->sql_insert_string_PQ() , $sf->sql_insert_string_PA() );</code></li></ul></li><li><span class="definition">sql_create_string()</span>
<ul><li>It generates the SQL create table string.</li></ul></li><li><span class="definition">sql_create_schema()</span>
<ul><li>It creates a special create schema array which can used in <code>HOOK_required_sql_schema</code> <a href="hooks.html">hook</a>. Read <a href="sql.html#definesqlreq">sql schema requirements documentation</a>.</li></ul></li></ul><p>Let's see some real word example which uses SpeedForm in various situations.
</p>
<ul><li>Adds a new item page:</li></ul><pre><code class="php">function addform_page()
{
    $d = get_data_definition();

    $sf = new SpeedForm($d);
    if($sf-&gt;in_action('insert')) //If the user click on "Add" button
    {
        $sf-&gt;load_parameters(); //Load values as POST parameters
        $sf-&gt;do_insert();  //Validate & Save its to the database
        return 'The item is inserted';
    }

    $form = $sf-&gt;generate_form('insert'); //Generate an empty "insert" form
    $form-&gt;action_post(current_loc()); //Set the handler to this page callback
    ob_start();
    print $form-&gt;get(); //Generate the html codes of the form
    return ob_get_clean();
}
</code></pre>
<ul><li>View & edit an existing record where the key is received as parameter "id" :</li></ul><pre><code class="php">function editform_page()
{
    $d = get_data_definition();

    par_def('id','number0'); //define the "id" parameter
    $id = par('id'); //get the value of "id" parameter
    $sf = new SpeedForm($d);
    $sf-&gt;set_key($id); // Set the key of the item to edit
    if($sf-&gt;in_action('update')) //If the user click on "Save" button
    {
        $sf-&gt;load_parameters(); //Load values as POST parameters
        $sf-&gt;do_update(); //Validate & Save its to the database
        print 'The item is SAVED!&lt;br/&gt;';
        //You can optionally return here or run load_loc('somewhere');
        // ...without that we will stay here and display the saved form again
    }

    $sf-&gt;do_select(); //Query the "old" values from the database
    $form = $sf-&gt;generate_form('update');
    $form-&gt;hidden('id',$id); //Add the key value to the form as hidden parameter
    $form-&gt;action_post(current_loc()); //Set the handler to this page callback

    ob_start();
    print $form-&gt;get(); //Generate the html codes of the form
    return ob_get_clean();
}
</code></pre>
<ul><li>Adds a new item with validation. If the validation is failed the form is printed back to the user and the fields which does not pass the validation are highlighted:</li></ul><pre><code class="php">function addform_page()
{
    $d = get_data_definition();

    $sf = new SpeedForm($d);
    if($sf-&gt;in_action('insert')) //If the user click on "Add" button
    {
        $sf-&gt;load_parameters(); //Load values as POST parameters
        if($sf-&gt;do_validate(false))
        {
            // Validation failed: We print out the validation error text,
            //  but does not stop the execution here because
            //  the form generation will use this validation highlights
            //  to sign the bad data
            print '&lt;pre&gt;'.$sf-&gt;validate_errortext.'&lt;/pre&gt;';
            print '&lt;/br&gt;';
        }
        else
        {
            $sf-&gt;do_insert();  //Validate & Save its to the database
            return 'The item is inserted';
            //You can optionally return here or run load_loc('somewhere');
        }
    }

    $form = $sf-&gt;generate_form('insert'); //Generate an empty "insert" form
    $form-&gt;action_post(current_loc()); //Set the handler to this page callback
    ob_start();
    print $form-&gt;get(); //Generate the html codes of the form
    return ob_get_clean();
}
</code></pre><p><em>Note: The highlighting is signed by a big red border, but can be changed to something else</em>
<em>by using CSS class <code>validation_highlighted</code>.</em>
<a name="speedformdatadef"></a>
</p><a name="pos_6"><h2>Data definition structure</h2></a>
<p>The data definition array is php associative array structure to driven <a href="#speedform">SpeedForm</a>
object features, specify fields, data validators, look and feel,
and other features of the generated form or database values.
</p>
<p>You can write this data definition structure by hand or you can use a builder page built-in CodKep.
This builder page is called SpeedForm builder and located under <a href="javascript:alert('This url works on an installed CodKep instance. It is unavailable in this offline document.');">speedformbuilder</a> url.
</p>
<p><em>The SpeedForm builder is disabled by default.</em>
<em>You have to set <code>$site_config->enable_speeformbuilder=true</code> to use the builder page and even</em>
<em>set <code>$site_config->enable_speeformbuilder_preview=true</code> to use preview</em>
<em>function <a href="modules.html#site_settings">in site settings</a>.</em>
</p>
<p>This is a full javascript builder so does not modify anything on server side.
You have to copy out the final result and insert into your code to use it.
</p>
<p><img src="images/speedformbuilder.png"  style="" alt="speedformbuilder.png"/>
</p>
<p><a name="ddeftoplevel"></a>
</p><a name="pos_7"><h3>The structure : Top level attributes</h3></a>

<ul><li><strong>Top level attributes</strong>
<ol><li>Name of the definition</li><li>Base definition (if this node is derived from another)</li><li>Features of the whole form</li><li>Associated sql table
<ul><li><code>"fields" =></code>
<ul><li>Contains array items each is a single field where the indexes are numbers.
<ul><li>Single field definition array contains mandatory and optional elements.
<ol><li>Name of the field</li><li>Type of the field</li><li>Other features of field</li></ol></li></ul></li></ul></li></ul></li></ol></li></ul><p><strong>List of top level attributes/features:</strong>
</p>
<table><thead>
<tr><th>Index name</th><th>Description</th><th>Necessity</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>name</code></td><td style="background-color: #ff7777;">Identifier name of the form object. It will be used in classes names, hooks.</td><td>Mandatory</td><td>string</td></tr>
<tr><td><code>table</code></td><td style="background-color: #ff7777;">The SQL table name in the database</td><td>Mandatory</td><td>sql table name</td></tr>
<tr><td><code>sql_schema_bypass</code></td><td style="background-color: #ff7777;">If this field is present and true, the SQL definition of this data definition structure is kipped by sql schema editor</td><td>Optional</td><td><code>true</code> or <code>false</code>(default)</td></tr>
<tr><td><code>show</code></td><td style="background-color: #ff7777;">The formatter mode of the form. Html table or divs. Read details <a href="#sfoutputf">here</a>.</td><td>Mandatory</td><td><code>"table"</code> or <code>"div"</code></td></tr>
<tr><td><code>fields</code></td><td style="background-color: #ff7777;">Definition of data fields itself</td><td>Mandatory</td><td>definition of fields</td></tr>
<tr><td><code>classname</code></td><td style="background-color: #da7fee;">In case you specify a node type you can tell a php class name here. If you do this, all this typed node object will be created with the specified class. You have to reach many customisation of node type this way. See the specific node documentation <a href="node.html#customnodeobject">here</a>.</td><td>Optional</td><td>php class name (Subclass of Node)</td></tr>
<tr><td><code>base</code></td><td style="background-color: #da7fee;">You can use the definition structure of another node as a base to the current defined one. This way you can inherit the options and features of another node which can overwrite here. This <code>base</code> value holds the node name of the base node.</td><td>Optional</td><td>node name</td></tr>
<tr><td><code>fields-by-sql</code></td><td style="background-color: #da7fee;">If the <code>base</code> value is set (which means the current definition is derived from another) you can set an associative array here to modify fields by the sql name. This field is a helper field which enables you to modify a derived field without knowing the index of the field. This associative array is similar to <code>fields</code> where the indexes are not numbers but sql names.</td><td>Optional</td><td>an associative array</td></tr>
<tr><td><code>rest_enabled</code></td><td style="background-color: #da7fee;">This option is necessary to enable the <a href="node.html#restinterface">automatic REST API interface</a> for this node type. You can write combinations of lowercase letters here to enable main functions. "c" - enable create, "r" - enable read, "u" - enable update, "d" - enable delete, "l" - enable list. You should type "crudl" here to enable all functions or leave blank to disable all.</td><td>Optional</td><td>String with lowercase cars: <code>"c","r","u","d","l"</code></td></tr>
<tr><td><code>access_earlyblock</code></td><td style="background-color: #da7fee;">If this value is true the system will block the first phase (loading to view) of a node before the a not permitted update/insert/delete request. Otherwise only the not permitted action is blocked which means that possible to edit the form of the node and cannot save if denied.</td><td>Optional</td><td>true or false(default)</td></tr>
<tr><td><code>access_loadp_before_create_perm </code></td><td style="background-color: #da7fee;">If this value is true the node create page will load the html parameters before the node_access check is executed. It means that you can use the user input data to determine the create permissions in hook_node_access. Otherwise the permission check is precede the parameter load.</td><td>Optional</td><td>true or false(default)</td></tr>
<tr><td><code>access_loadp_before_update_perm </code></td><td style="background-color: #da7fee;">If this value is true the node edit page will load the html parameters before the node_access check is executed. It means that you can use the user input data to determine the edit permissions in hook_node_access. Otherwise the permission check is precede the parameter load.</td><td>Optional</td><td>true or false(default)</td></tr>
<tr><td><code>view_callback</code></td><td style="background-color: #da7fee;">In case you specify a node type you can tell a php function name here to redirect the standard view of node to the given function</td><td>Optional</td><td>php function name</td></tr>
<tr><td><code>view_phpfile</code></td><td style="background-color: #da7fee;">In case you specify a node type you can tell a php file name here to redirect the standard view of the node to the given php file</td><td>Optional</td><td>php file name</td></tr>
<tr><td><code>form_script</code></td><td style="background-color: #da7fee;">You can put arbitrary javascript codes after the form if you set this value.</td><td>Optional</td><td>javascript codes</td></tr>
<tr><td><code>javascript_files</code></td><td style="background-color: #da7fee;">You can specify an array of javascript files which are automatically load with the form</td><td>Optional</td><td>array of filepaths</td></tr>
<tr><td><code>css_files</code></td><td style="background-color: #da7fee;">You can specify an array of css files which are automatically load with the form</td><td>Optional</td><td>array of filepaths</td></tr>
<tr><td><code>color</code></td><td style="background-color: #99ffcc;">The background color of the entire table (Each field can redefine it.)</td><td>Optional</td><td>A html color code. Example: <code>#aa8888</code></td></tr>
<tr><td><code>before</code></td><td style="background-color: #99ffcc;">This text is printed before the whole form</td><td>Optional</td><td>string (Can contains html codes)</td></tr>
<tr><td><code>after</code></td><td style="background-color: #99ffcc;">This text is printed after the whole form</td><td>Optional</td><td>string (Can contains html codes)</td></tr>
<tr><td><code>table_class</code></td><td style="background-color: #99ccff;">The CSS class of the generated html table (If <code>show=table</code>)</td><td>Optional</td><td>string</td></tr>
<tr><td><code>table_style</code></td><td style="background-color: #99ccff;">The "style" attribute of the generated html table (If <code>show=table</code>)</td><td>Optional</td><td>string</td></tr>
<tr><td><code>table_border</code></td><td style="background-color: #99ccff;">The "border" attribute of the generated html table (If <code>show=table</code>)</td><td>Optional</td><td>string</td></tr>
<tr><td><code>div_class</code></td><td style="background-color: #99aaff;">The CSS class of the form's main div (If <code>show=div</code>)</td><td>Optional</td><td>string</td></tr>
<tr><td><code>div_c_afterv</code></td><td style="background-color: #99aaff;">Put an empty "clear:both;" css styled div block after the value's div (If <code>show=div</code>)</td><td>Optional</td><td>true or false</td></tr>
<tr><td><code>div_c_afterl</code></td><td style="background-color: #99aaff;">Put an empty "clear:both;" css styled div block after the data block's div (line) (If <code>show=div</code>)</td><td>Optional</td><td>true or false</td></tr>
<tr><td><code>collapsable_fieldsets</code></td><td style="background-color: #99aaff;">Enable collapsable fieldsets. (Injects required javascript codes) (If <code>show=div</code>)</td><td>Optional</td><td>true or false</td></tr>
<tr><td><code>default_csstop_class</code></td><td style="background-color: #99aaff;">The default css top class. If you change this, the default css styles won't affect the area. (Value is: <code>f_gendiv_defaultcodkepstyle</code>) (If <code>show=div</code>)</td><td>Optional</td><td>string</td></tr></tbody></table><p>Sample of top level attributes:
</p><pre><code class="code">  $d = [
        "name" =&gt; "people_spec",
        "table" =&gt; "people",
        "show" =&gt; "table",
        "color" =&gt; "#88ff88",
        "fields" =&gt; [
            ...
        ],
  ];
</code></pre><a name="pos_8"><h3>Field types</h3></a>

<ul><li>Top level attributes
<ol><li>Name of the definition</li><li>Base definition (if this node is derived from another)</li><li>Features of the whole form</li><li>Associated sql table
<ul><li><code>"fields" =></code>
<ul><li>Contains array items each is a single field where the indexes are numbers.
<ul><li>Single field definition array contains mandatory and optional elements.
<ol><li>Name of the field</li><li><strong>Type of the field</strong></li><li>Other features of field</li></ol></li></ul></li></ul></li></ul></li></ol></li></ul><p><a name="ftypes"></a>
<strong>Following field types exists in CodKep (May be extend by hooks)</strong>
</p>
<table><thead>
<tr><th>Type name</th><th>Form appearance</th><th>Database</th></tr></thead>
<tbody>
<tr><td><a href="#type_keyn">keyn</a></td><td>Static text</td><td><code>SERIAL</code></td></tr>
<tr><td><a href="#type_keys">keys</a></td><td>Static text</td><td><code>VARCHAR UNIQUE</code></td></tr>
<tr><td><a href="#type_smalltext">smalltext</a></td><td><img src="images/type_smalltext.png"  style="" alt="type_smalltext.png"/></td><td><code>VARCHAR</code></td></tr>
<tr><td><a href="#type_number">number</a></td><td><img src="images/type_number.png"  style="" alt="type_number.png"/></td><td><code>NUMERIC</code></td></tr>
<tr><td><a href="#type_largetext">largetext</a></td><td><img src="images/type_largetext.png"  style="" alt="type_largetext.png"/></td><td><code>LONGTEXT/TEXT</code></td></tr>
<tr><td><a href="#type_txtselect">txtselect</a></td><td><img src="images/type_select.png"  style="" alt="type_select.png"/><br/><img src="images/type_select2.png"  style="" alt="type_select2.png"/>(If <code>optional=yes</code>)<br/><img src="images/type_select3.png"  style="" alt="type_select3.png"/>(If <code>optional=yes</code>)</td><td><code>VARCHAR</code></td></tr>
<tr><td><a href="#type_numselect">numselect</a></td><td><img src="images/type_select.png"  style="" alt="type_select.png"/><br/><img src="images/type_select2.png"  style="" alt="type_select2.png"/>(If <code>optional=yes</code>)<br/><img src="images/type_select3.png"  style="" alt="type_select3.png"/>(If <code>optional=yes</code>)</td><td><code>NUMERIC</code></td></tr>
<tr><td><a href="#type_float">float</a></td><td><img src="images/type_float.png"  style="" alt="type_float.png"/></td><td><code>NUMERIC(15,5)</code></td></tr>
<tr><td><a href="#type_password">password</a></td><td><img src="images/type_password.png"  style="" alt="type_password.png"/></td><td><code>VARCHAR</code></td></tr>
<tr><td><a href="#type_static">static</a></td><td><img src="images/type_static.png"  style="" alt="type_static.png"/></td><td></td></tr>
<tr><td><a href="#type_rotext">rotext</a></td><td><img src="images/type_rotext.png"  style="" alt="type_rotext.png"/></td><td><code>VARCHAR</code></td></tr>
<tr><td><a href="#type_txtselect_intrange">txtselect_intrange</a></td><td><img src="images/type_numselect_intrange.png"  style="" alt="type_numselect_intrange.png"/></td><td><code>VARCHAR</code></td></tr>
<tr><td><a href="#type_numselect_intrange">numselect_intrange</a></td><td><img src="images/type_numselect_intrange.png"  style="" alt="type_numselect_intrange.png"/></td><td><code>NUMERIC</code></td></tr>
<tr><td><a href="#type_txtradio">txtradio</a></td><td><img src="images/type_radio.png"  style="" alt="type_radio.png"/></td><td><code>VARCHAR</code></td></tr>
<tr><td><a href="#type_numradio">numradio</a></td><td><img src="images/type_radio.png"  style="" alt="type_radio.png"/></td><td><code>NUMERIC</code></td></tr>
<tr><td><a href="#type_check">check</a></td><td><img src="images/type_check.png"  style="" alt="type_check.png"/></td><td><code>BOOLEAN</code></td></tr>
<tr><td><a href="#type_date">date</a></td><td><img src="images/type_date.png"  style="" alt="type_date.png"/></td><td><code>DATE NOT NULL</code></td></tr>
<tr><td><a href="#type_dateu">dateu</a></td><td><img src="images/type_dateu.png"  style="" alt="type_dateu.png"/></td><td><code>DATE</code></td></tr>
<tr><td><a href="#type_timestamp_create">timestamp_create</a></td><td>Static text</td><td><code>TIMESTAMP</code></td></tr>
<tr><td><a href="#type_timestamp_mod">timestamp_mod</a></td><td>Static text</td><td><code>TIMESTAMP</code></td></tr>
<tr><td><a href="#type_creating_user">creating_user</a></td><td>Static text</td><td><code>VARCHAR</code></td></tr>
<tr><td><a href="#type_modifier_user">modifier_user</a></td><td>Static text</td><td><code>VARCHAR</code></td></tr>
<tr><td><a href="#type_sqlnchoose">sqlnchoose</a></td><td><img src="images/type_select.png"  style="" alt="type_select.png"/><br/><img src="images/type_select2.png"  style="" alt="type_select2.png"/>(If <code>optional=yes</code>)<br/><img src="images/type_select3.png"  style="" alt="type_select3.png"/>(If <code>optional=yes</code>)</td><td><code>NUMERIC</code></td></tr>
<tr><td><a href="#type_sqlschoose">sqlschoose</a></td><td><img src="images/type_select.png"  style="" alt="type_select.png"/><br/><img src="images/type_select2.png"  style="" alt="type_select2.png"/>(If <code>optional=yes</code>)<br/><img src="images/type_select3.png"  style="" alt="type_select3.png"/>(If <code>optional=yes</code>)</td><td><code>VARCHAR</code></td></tr>
<tr><td><a href="#type_file">file</a></td><td>The filename and the browse button</td><td><code>NUMERIC</code> (CodKep ufi)</td></tr>
<tr><td><a href="#type_submit">submit</a></td><td><img src="images/type_submit.png"  style="" alt="type_submit.png"/></td><td></td></tr></tbody></table><p><a name="type_keyn"></a>
</p><a name="pos_9"><h3>keyn</h3></a>
<p>This field is the primary key of the sql table which identifies the record.
(Numeric variant) You can hide this field, if not a simple text
will show in form. The <code>set_key()</code> function change the value of this field.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td>  <em>Static text</em> </td></tr>
<tr><td> Database type: </td><td> <code>SERIAL</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>keyn</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The value is show before the user will send the form</td><td>string</td></tr>
<tr><td><code>link</code></td><td>Optional</td><td style="background-color: #ffbb55;">Makes clickable html link from the key.</td><td>string where the "&lt;key&gt;" token is replaced to the key value</td></tr>
<tr><td><code>sql_sequence_name</code></td><td>Optional</td><td style="background-color: #ffbb55;">Some database system does not return correct value after insert with PDO::lastInsertId() when the key is generated by a sequence (Pgsql). That case you have to put the sequence name here to determine which sequence provides the generated key.</td><td>string</td></tr>
<tr><td><code>mysql_sql_sequence_name</code></td><td>Optional</td><td style="background-color: #ffbb55;">Same as <code>sql_sequence_name</code> but only works when the database server is mysql.</td><td>string</td></tr>
<tr><td><code>pgsql_sql_sequence_name</code></td><td>Optional</td><td style="background-color: #ffbb55;">Same as <code>sql_sequence_name</code> but only works when the database server is pgsql.</td><td>string</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 10 =&gt; [
    "sql" =&gt; "id",
    "type" =&gt; "keyn",
    "text" =&gt; "Identifier",
    "hide" =&gt; true,
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_keys"></a>
</p><a name="pos_9"><h3>keys</h3></a>
<p>This field is the primary key of the sql table which identifies the record.
(Varchar variant) You can hide this field, if not a simple text
will show in form. The <code>set_key()</code> function change the value of this field.
</p>
<p><em>Note: Some databases like postresql can achieve the automatic key value generation with sequences.</em>
<em>This case it's recommended to set <code>sql_sequence_name</code> attribute to that sequence name to work codes properly.</em>
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td>  <em>Static text</em> </td></tr>
<tr><td> Database type: </td><td> <code>VARCHAR UNIQUE</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>keys</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The value is show before the user will send the form</td><td>string</td></tr>
<tr><td><code>link</code></td><td>Optional</td><td style="background-color: #ffbb55;">Makes clickable html link from the key.</td><td>string where the "&lt;key&gt;" token is replaced to the key value</td></tr>
<tr><td><code>sql_sequence_name</code></td><td>Optional</td><td style="background-color: #ffbb55;">Some database system does not return correct value after insert with PDO::lastInsertId() when the key is generated by a sequence (Pgsql). That case you have to put the sequence name here and may use keyprefix,keysuffix options to determine the generated key.</td><td>string</td></tr>
<tr><td><code>mysql_sql_sequence_name</code></td><td>Optional</td><td style="background-color: #ffbb55;">Same as <code>sql_sequence_name</code> but only works when the database server is mysql.</td><td>string</td></tr>
<tr><td><code>pgsql_sql_sequence_name</code></td><td>Optional</td><td style="background-color: #ffbb55;">Same as <code>sql_sequence_name</code> but only works when the database server is pgsql.</td><td>string</td></tr>
<tr><td><code>keyprefix</code></td><td>Optional</td><td style="background-color: #ffbb55;">This text will be automatically prepended to the sql sequence generated number returned by PDO::lastInsertId() Only use if you have special id field.</td><td>string</td></tr>
<tr><td><code>keysuffix</code></td><td>Optional</td><td style="background-color: #ffbb55;">This text will be automatically appended to the sql sequence generated number returned by PDO::lastInsertId() Only use if you have special id field.</td><td>string</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 10 =&gt; [
    "sql" =&gt; "mid",
    "type" =&gt; "keys",
    "text" =&gt; "Identifier",
    "color" =&gt; "#ff8888",
    "centered" =&gt; "yes",
    "sql_sequence_name" =&gt; "mtab_seq", // useful on postresql where the keys
                                       //  are generated with a sequence
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_smalltext"></a>
</p><a name="pos_9"><h3>smalltext</h3></a>
<p>This is a simple one lined text field, can hold names email addresses and many other textual data.
</p>
<p><em>Hint: You can use regex to validate input data</em>
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_smalltext.png"  style="" alt="type_smalltext.png"/> </td></tr>
<tr><td> Database type: </td><td> <code>VARCHAR</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>smalltext</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>string</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 11 =&gt; [
    "sql" =&gt; "name",
    "type" =&gt; "smalltext",
    "text" =&gt; "Name",
    "par_sec" =&gt; "text5",
    "check_noempty" =&gt; "Do not leave it empty",
    "form_options" =&gt; [
        'size' =&gt; 30,
    ],
    "check_regex" =&gt; [
        '/\s/' =&gt; "Have to contains a space",
        '/^\p{Lu}/' =&gt; "Have to start with uppercase letter",
    ],
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_number"></a>
</p><a name="pos_9"><h3>number</h3></a>
<p>This field is an integer number field appears as single line edit in form.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_number.png"  style="" alt="type_number.png"/> </td></tr>
<tr><td> Database type: </td><td> <code>NUMERIC</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>number</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>integer</td></tr>
<tr><td><code>minimum</code></td><td>Opt.Validator</td><td style="background-color: #ffff33;">The minimum value of the field (user input validator)</td><td>integer</td></tr>
<tr><td><code>maximum</code></td><td>Opt.Validator</td><td style="background-color: #ffff33;">The maximum value of the field (user input validator)</td><td>integer</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 20 =&gt; [
    "sql" =&gt; "length",
    "text" =&gt; "Length",
    "type" =&gt; "number",
    "default" =&gt; "55",
    "suffix" =&gt; "cm",
    "color" =&gt; "#aaaacc",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_largetext"></a>
</p><a name="pos_9"><h3>largetext</h3></a>
<p>This field is a large text edit area with adjustable edit area size. On the database side it's an unlimited data field.
You can even attach CKEditor (with css classes) to create html content.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_largetext.png"  style="" alt="type_largetext.png"/> </td></tr>
<tr><td> Database type: </td><td> <code>LONGTEXT/TEXT</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>largetext</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>string</td></tr>
<tr><td><code>row</code></td><td>Mandatory</td><td style="background-color: #ff7777;">Specifies the row number of the html textarea box</td><td>integer</td></tr>
<tr><td><code>col</code></td><td>Mandatory</td><td style="background-color: #ff7777;">Specifies the column number of the html textarea box</td><td>integer</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 30 =&gt; [
    "sql" =&gt; "note",
    "text" =&gt; "Note",
    "type" =&gt; "largetext",
    "col" =&gt; 50,
    "row" =&gt; 6,
    "par_sec" =&gt; "free", // caution: only enable if necessary!
    "form_options" =&gt; [
        "class" =&gt; "use-ck",
    ],
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_txtselect"></a>
</p><a name="pos_9"><h3>txtselect</h3></a>
<p>This field is a frequent used select input with fix key-value pairs,
where the database store one of the selected textual <strong>key</strong>s.
You can set the selection to "optional". If set the user can select "nothing" between the values.
This case the database will contains NULL value.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_select.png"  style="" alt="type_select.png"/><br/><img src="images/type_select2.png"  style="" alt="type_select2.png"/>(If <code>optional=yes</code>)<br/><img src="images/type_select3.png"  style="" alt="type_select3.png"/>(If <code>optional=yes</code>) </td></tr>
<tr><td> Database type: </td><td> <code>VARCHAR</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>txtselect</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>one of key of the possible keys</td></tr>
<tr><td><code>values</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The possible values of the field</td><td>An associative array of keys and values</td></tr>
<tr><td><code>optional</code></td><td>Optional</td><td style="background-color: #ffbb55;">If the optional = "yes" is set the field can accept empty value. The user can reset the value with a button. This case the sql value will NULL. Otherwise only a select box will appears so the user have to select a value.</td><td>"yes" or "no"</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 40 =&gt; [
    "sql" =&gt; "hairc",
    "type" =&gt; "txtselect",
    "text" =&gt; "Hair color",
    "optional" =&gt; "yes", //You can choose "nothing", that case the database value is NULL
    "values" =&gt; [
        "b" =&gt; "Brown",
        "l" =&gt; "Blonde",
        "e" =&gt; "Black",
        "r" =&gt; "Red",
        "o" =&gt; "Other",
    ],
    "default" =&gt; "b",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_numselect"></a>
</p><a name="pos_9"><h3>numselect</h3></a>
<p>This field is a frequent used select input with fix key-value pairs,
where the database store one of the selected integer <strong>key</strong>s.
You can set the selection to "optional". If set the user can select "nothing" between the values.
This case the database will contains NULL value.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_select.png"  style="" alt="type_select.png"/><br/>
         <img src="images/type_select2.png"  style="" alt="type_select2.png"/>(If <code>optional=yes</code>)<br/><img src="images/type_select3.png"  style="" alt="type_select3.png"/>(If <code>optional=yes</code>) </td></tr>
<tr><td> Database type: </td><td> <code>NUMERIC</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>numselect</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>one integer of key of the possible keys</td></tr>
<tr><td><code>values</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The possible values of the field</td><td>An associative array of keys and values</td></tr>
<tr><td><code>optional</code></td><td>Optional</td><td style="background-color: #ffbb55;">If the optional = "yes" is set the field can accept empty value. The user can reset the value with a button. This case the sql value will NULL. Otherwise only a select box will appears so the user have to select a value.</td><td>"yes" or "no"</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 41 =&gt; [
    "sql" =&gt; "car",
    "text" =&gt; "Car",
    "type" =&gt; "numselect",
    "color" =&gt; "#aaaaff",
    "values" =&gt; [
        1 =&gt; "Suzuki",
        2 =&gt; "Mitsubishi",
        3 =&gt; "Volkswagen",
        4 =&gt; "Ford",
    ],
    "default" =&gt; '2',
    "form_options" =&gt; [
        "class" =&gt; "selulize",
        "id" =&gt; "cselect",
    ],
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_float"></a>
</p><a name="pos_9"><h3>float</h3></a>
<p>This field contains numeric value.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_float.png"  style="" alt="type_float.png"/> </td></tr>
<tr><td> Database type: </td><td> <code>NUMERIC(15,5)</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>float</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>string</td></tr>
<tr><td><code>minimum</code></td><td>Opt.Validator</td><td style="background-color: #ffff33;">The minimum value of the field (user input validator)</td><td>integer</td></tr>
<tr><td><code>maximum</code></td><td>Opt.Validator</td><td style="background-color: #ffff33;">The maximum value of the field (user input validator)</td><td>integer</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 50 =&gt; [
    "sql" =&gt; "height",
    "text" =&gt; "Height",
    "type" =&gt; "float",
    "default" =&gt; "1.78",
    "suffix" =&gt; "m",
    "maximum" =&gt; "0.5",
    "minimum" =&gt; "2.5",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_password"></a>
</p><a name="pos_9"><h3>password</h3></a>
<p>This field is similar to simple text field (<code>smalltext</code>) but the entered characters displayed as dots.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_password.png"  style="" alt="type_password.png"/> </td></tr>
<tr><td> Database type: </td><td> <code>VARCHAR</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>password</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>string</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 60 =&gt; [
    "sql" =&gt; "pwd",
    "text" =&gt; "Password",
    "type" =&gt; "password",
    "color" =&gt; "#ff9999",
    "form_options" =&gt; [
        "maxlength" =&gt; 50,
        "size" =&gt; 30,
    ],
    "converter" =&gt; "pwd_scatter_func",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_static"></a>
</p><a name="pos_9"><h3>static</h3></a>
<p>This field is a static text which not present in SQL. You can use it to make titles,
separators or other visual elements in the form.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_static.png"  style="" alt="type_static.png"/> </td></tr>
<tr><td> Database type: </td><td> None </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>static</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The value of this field</td><td>string</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 70  =&gt; [
    "sql" =&gt; "ttext",
    "type" =&gt; "static",
    "default" =&gt; "User data",
    "centered" =&gt; "yes",
    "prefix" =&gt; "&lt;strong&gt;",
    "suffix" =&gt; "&lt;/strong&gt;",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_rotext"></a>
</p><a name="pos_9"><h3>rotext</h3></a>
<p>This field is a simple text field which shows a database value as a readonly text.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_rotext.png"  style="" alt="type_rotext.png"/> </td></tr>
<tr><td> Database type: </td><td> <code>VARCHAR</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>rotext</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>link</code></td><td>Optional</td><td style="background-color: #ffbb55;">Makes clickable html link from the field.</td><td>string where the "&lt;key&gt;" token is replaced to the key value</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The value of this field</td><td>string</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 80  =&gt; [
    "sql" =&gt; "pobjid",
    "type" =&gt; "rotext",
    "text" =&gt; "Parent object ID",
    "link" =&gt; "edit-parent/&lt;key&gt;",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_txtselect_intrange"></a>
</p><a name="pos_9"><h3>txtselect_intrange</h3></a>
<p>This field represents an integer value where the select mode is a dropdown styled.
You have to specify the <code>start</code> and the <code>end</code> of the possible values appears in drowdown list.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_numselect_intrange.png"  style="" alt="type_numselect_intrange.png"/> </td></tr>
<tr><td> Database type: </td><td> <code>VARCHAR</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>txtselect_intrange</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>start</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The first possible value of this field</td><td>integer value</td></tr>
<tr><td><code>end</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The last possible value of this field</td><td>integer value</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>string of a possible value</td></tr>
<tr><td><code>minimum</code></td><td>Opt.Validator</td><td style="background-color: #ffff33;">The minimum value of the field (user input validator)</td><td>integer</td></tr>
<tr><td><code>maximum</code></td><td>Opt.Validator</td><td style="background-color: #ffff33;">The maximum value of the field (user input validator)</td><td>integer</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 90 =&gt; [
    "sql" =&gt; "weight",
    "type" =&gt; "txtselect_intrange",
    "text" =&gt; "Weight",
    "suffix" =&gt; "kg",
    "start" =&gt; 30,
    "end" =&gt; 130,
    "default" =&gt; "70",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_numselect_intrange"></a>
</p><a name="pos_9"><h3>numselect_intrange</h3></a>
<p>This field represents an integer value where the select mode is a dropdown styled.
You have to specify the <code>start</code> and the <code>end</code> of the possible values appears in drowdown list.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_numselect_intrange.png"  style="" alt="type_numselect_intrange.png"/> </td></tr>
<tr><td> Database type: </td><td> <code>NUMERIC</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>numselect_intrange</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>start</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The first possible value of this field</td><td>integer value</td></tr>
<tr><td><code>end</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The last possible value of this field</td><td>integer value</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>integer of a possible value</td></tr>
<tr><td><code>minimum</code></td><td>Opt.Validator</td><td style="background-color: #ffff33;">The minimum value of the field (user input validator)</td><td>integer</td></tr>
<tr><td><code>maximum</code></td><td>Opt.Validator</td><td style="background-color: #ffff33;">The maximum value of the field (user input validator)</td><td>integer</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 91 =&gt; [
    "sql" =&gt; "weight",
    "type" =&gt; "numselect_intrange",
    "text" =&gt; "Weight",
    "suffix" =&gt; "kg",
    "start" =&gt; 30,
    "end" =&gt; 130,
    "default" =&gt; 70,
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_txtradio"></a>
</p><a name="pos_9"><h3>txtradio</h3></a>
<p>This field is a frequent used radio input with fix key-value pairs,
where the database store one of the selected textual <strong>key</strong>s.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_radio.png"  style="" alt="type_radio.png"/> </td></tr>
<tr><td> Database type: </td><td> <code>VARCHAR</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>txtradio</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>one string of the possible keys</td></tr>
<tr><td><code>values</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The possible values of the field</td><td>An associative array of keys and values</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 100 =&gt; [
    "sql" =&gt; "shape",
    "text" =&gt; "Shape",
    "type" =&gt; "txtradio",
    "values" =&gt; [
        "s" =&gt; "Skinny",
        "p" =&gt; "Pretty",
        "c" =&gt; "Chubby",
        "f" =&gt; "Fat",
    ],
    "default" =&gt; "p",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_numradio"></a>
</p><a name="pos_9"><h3>numradio</h3></a>
<p>This field is a frequent used radio input with fix key-value pairs,
where the database store one of the selected integer <strong>key</strong>s.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_radio.png"  style="" alt="type_radio.png"/> </td></tr>
<tr><td> Database type: </td><td> <code>NUMERIC</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>numradio</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>one integer of the possible keys</td></tr>
<tr><td><code>values</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The possible values of the field</td><td>An associative array of keys and values</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 101 =&gt; [
    "sql" =&gt; "repeat",
    "text" =&gt; "Repeat",
    "type" =&gt; "numradio",
    "values" =&gt; [
        1 =&gt; "One",
        2 =&gt; "Two",
        3 =&gt; "Three",
    ],
    "default" =&gt; 2,
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_check"></a>
</p><a name="pos_9"><h3>check</h3></a>
<p>This is a classic checkbox field.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_check.png"  style="" alt="type_check.png"/> </td></tr>
<tr><td> Database type: </td><td> <code>BOOLEAN</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>check</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>"true" or "false"</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 110 =&gt; [
    "sql" =&gt; "active",
    "type" =&gt; "check",
    "text" =&gt; "Account activated",
    "default" =&gt; true,
    "suffix" =&gt; "yes",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_date"></a>
</p><a name="pos_9"><h3>date</h3></a>
<p>This is a date selection field with year, month and day selector dropdown. The user have to select a value here.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_date.png"  style="" alt="type_date.png"/> </td></tr>
<tr><td> Database type: </td><td> <code>DATE NOT NULL</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>date</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>An isodate string to set an exact date.<br/>Give "now" for set the current date.<br/>Example: "2016-10-27"</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 120 =&gt; [
    "sql" =&gt; "birth",
    "text" =&gt; "Birthdate",
    "type" =&gt; "date",
    "default" =&gt; "2000-01-01",
    "color" =&gt; "#bbbbbb",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_dateu"></a>
</p><a name="pos_9"><h3>dateu</h3></a>
<p>This is a date selection field with year, month and day selector dropdown where the unknown option is also accepted.
You can use this field that cases where the date is not required to set.
If the date is unknown the database holds the NULL value.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_dateu.png"  style="" alt="type_dateu.png"/> </td></tr>
<tr><td> Database type: </td><td> <code>DATE</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>dateu</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>An isodate string to set an exact date.<br/>Empty string or "u" if unknown.<br/>Give "now" for set the current date.<br/>Example: "2016-10-27"</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 121 =&gt; [
    "sql" =&gt; "deadl",
    "text" =&gt; "Deadline",
    "type" =&gt; "dateu",
    "default" =&gt; "u", //Means the "unknown"
    "color" =&gt; "#bbbbee",
    "form_options" =&gt; [
        "class" =&gt; "deadline",
    ],
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_timestamp_create"></a>
</p><a name="pos_9"><h3>timestamp_create</h3></a>
<p>This is a timestamp typed field which value is automatically set to the current timestamp on INSERT, and not updated later.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> Static text </td></tr>
<tr><td> Database type: </td><td> <code>TIMESTAMP</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>timestamp_create</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field (shown in form when no data)</td><td>string</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 130 =&gt; [
    "sql" =&gt; "created",
    "type" =&gt; "timestamp_create",
    "hide" =&gt; true,
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_timestamp_mod"></a>
</p><a name="pos_9"><h3>timestamp_mod</h3></a>
<p>This is a timestamp typed field which value is automatically set to the current timestamp on INSERT and every UPDATE.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> Static text </td></tr>
<tr><td> Database type: </td><td> <code>TIMESTAMP</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>timestamp_mod</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field (shown in form when no data)</td><td>string</td></tr>
<tr><td><code>autoupdate</code></td><td>Optional</td><td style="background-color: #ffbb55;">You can disable the automatic update of this field</td><td>"disable"</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 131 =&gt; [
    "sql" =&gt; "mod",
    "type" =&gt; "timestamp_mod",
    "text" =&gt; "Last modification",
    "prefix" =&gt; "&lt;i&gt;",
    "suffix" =&gt; "&lt;/i&gt;",
    "color" =&gt; "#999999",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_modifier_user"></a>
</p><a name="pos_9"><h3>modifier_user</h3></a>
<p>This is a special readonly varchar field which hold the user identifier who done the last update of the record.
It means that this record is updated on every UPDATE. It can hold user name or login name.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> Static text </td></tr>
<tr><td> Database type: </td><td> <code>VARCHAR</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>modifier_user</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>userdata</code></td><td>Optional</td><td style="background-color: #ffbb55;">Sets the field is store the user's full name or login name</td><td>"fullname" or "login"</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 140 =&gt; [
    "sql" =&gt; "moduser",
    "text" =&gt; "Modifier user",
    "type" =&gt; "modifier_user",
    "userdata" =&gt; "fullname",
    "color" =&gt; "#999999",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_creating_user"></a>
</p><a name="pos_9"><h3>creating_user</h3></a>
<p>This is a special readonly varchar field which hold the user identifier who create the record.
It means that this field is not updated after created. It can hold user name or login name.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> Static text </td></tr>
<tr><td> Database type: </td><td> <code>VARCHAR</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>creating_user</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>userdata</code></td><td>Optional</td><td style="background-color: #ffbb55;">Sets the field is store the user's full name or login name</td><td>"fullname" or "login"</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 140 =&gt; [
    "sql" =&gt; "creatuser",
    "text" =&gt; "Creating user",
    "type" =&gt; "creating_user",
    "userdata" =&gt; "fullname",
    "color" =&gt; "#999999",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_sqlnchoose"></a>
</p><a name="pos_9"><h3>sqlnchoose</h3></a>
<p>This field is similar to <code>numselect</code> dropdown select, the only difference is that the values comes
from a different SQL table. You can even use <code>optional</code> attribute to make possible
to the user not to select any values.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_select.png"  style="" alt="type_select.png"/><br/><img src="images/type_select2.png"  style="" alt="type_select2.png"/>(If <code>optional=yes</code>)
         <br/><img src="images/type_select3.png"  style="" alt="type_select3.png"/>(If <code>optional=yes</code>) </td></tr>
<tr><td> Database type: </td><td> <code>NUMERIC</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>sqlnchoose</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>one of intiger key value represents in referenced table</td></tr>
<tr><td><code>connected_table</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The sql table name which provides the keys and values for the field.</td><td>string (sql table name)</td></tr>
<tr><td><code>keyname</code></td><td>Mandatory</td><td style="background-color: #ff7777;">Specifies a row of the connected sql table. The value of this row will be the <strong>key</strong> of the field</td><td>string (row name)</td></tr>
<tr><td><code>showpart</code></td><td>Mandatory</td><td style="background-color: #ff7777;">Specifies a row or an sql expression. The result of this expression will be used as <strong>value</strong> of the field. This will shown in a html dropdown list.</td><td>string (row name or sql expression)</td></tr>
<tr><td><code>where_orderby_part</code></td><td>Mandatory</td><td style="background-color: #ff7777;">You can restrict and/or order the result by give this part to the end of the sql select</td><td>string (sql)</td></tr>
<tr><td><code>optional</code></td><td>Optional</td><td style="background-color: #ffbb55;">If the optional = "yes" is set the field can accept empty value. The user can reset the value with a button. This case the sql value will NULL. Otherwise only a select box will appears so the user have to select a value.</td><td>"yes" or "no"</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 150 =&gt; [
    "sql" =&gt; "owner",
    "text" =&gt; "Owner user",
    "type" =&gt; "sqlnchoose",
    "default" =&gt; 1,
    "connected_table" =&gt; "users",
    "keyname" =&gt; "uid",
    "showpart" =&gt; "name",
    "where_orderby_part" =&gt; "WHERE NOT lindis ORDER BY name",
    "sqlcreatetype" =&gt; 'BIGINT(20) UNSIGNED',
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_sqlschoose"></a>
</p><a name="pos_9"><h3>sqlschoose</h3></a>
<p>This field is similar to <code>txtselect</code> dropdown select, the only difference is that the values comes
from a different SQL table. You can even use <code>optional</code> attribute
to make possible to the user not to select any values.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_select.png"  style="" alt="type_select.png"/><br/><img src="images/type_select2.png"  style="" alt="type_select2.png"/>
        (If <code>optional=yes</code>)<br/><img src="images/type_select3.png"  style="" alt="type_select3.png"/>(If <code>optional=yes</code>) </td></tr>
<tr><td> Database type: </td><td> <code>VARCHAR</code> </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>sqlschoose</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>one of varchar key value represents in referenced table</td></tr>
<tr><td><code>connected_table</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The sql table name which provides the keys and values for the field.</td><td>string (sql table name)</td></tr>
<tr><td><code>keyname</code></td><td>Mandatory</td><td style="background-color: #ff7777;">Specifies a row of the connected sql table. The value of this row will be the <strong>key</strong> of the field</td><td>string (row name)</td></tr>
<tr><td><code>showpart</code></td><td>Mandatory</td><td style="background-color: #ff7777;">Specifies a row or an sql expression. The result of this expression will be used as <strong>value</strong> of the field. This will shown in a html dropdown list.</td><td>string (row name or sql expression)</td></tr>
<tr><td><code>where_orderby_part</code></td><td>Mandatory</td><td style="background-color: #ff7777;">You can restrict and/or order the result by give this part to the end of the sql select</td><td>string (sql)</td></tr>
<tr><td><code>optional</code></td><td>Optional</td><td style="background-color: #ffbb55;">If the optional = "yes" is set the field can accept empty value. The user can reset the value with a button. This case the sql value will NULL. Otherwise only a select box will appears so the user have to select a value.</td><td>"yes" or "no"</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 151 =&gt; [
    "sql" =&gt; "tool",
    "text" =&gt; "Selected tool",
    "type" =&gt; "sqlschoose",
    "optional" =&gt; "yes",
    "connected_table" =&gt; "tools",
    "keyname" =&gt; "tid",
    "showpart" =&gt; "toolname",
    "where_orderby_part" =&gt; "WHERE available ORDER BY toolname",
    "color" =&gt; "#8888dd",
    "form_options" =&gt; [
            "class" =&gt; "selulize toolsel",
        ],
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_file"></a>
</p><a name="pos_9"><h3>file</h3></a>
<p>This field is achieve a file upload/store possibility. (indirectly)
In fact it stores an UFI (numeric) value in the database which is
an <strong>U</strong>nique<strong>F</strong>ile<strong>I</strong>dentifier value of CodKep.
It is a reference to the file through the <a href="javascript:alert('This url works on an installed CodKep instance. It is unavailable in this offline document.');">CodKep's file manage system</a>.
In case a file is uploaded the SpeedForm creates a <a href="javascript:alert('This url works on an installed CodKep instance. It is unavailable in this offline document.');"><code>File</code> object</a> and store
the file to the appropriate way, and save the UFI to the database field.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> The filename and the browse button </td></tr>
<tr><td> Database type: </td><td> <code>NUMERIC</code> (CodKep ufi) </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>file</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>text</code></td><td>Optional</td><td style="background-color: #ffbb55;">The describe text of the field. This will be displayed to the user in forms</td><td>string</td></tr>
<tr><td><code>filetypes</code></td><td>Optional</td><td style="background-color: #ffff33;">The allowed mime types of file separated by ; sign.</td><td>string</td></tr>
<tr><td><code>container</code></td><td>Mandatory</td><td style="background-color: #ff7777;">Specify the container type of the uploaded file. Read <a href="javascript:alert('This url works on an installed CodKep instance. It is unavailable in this offline document.');">this</a> for details.</td><td>"<code>public</code>" or "<code>secure</code>"</td></tr>
<tr><td><code>subdir</code></td><td>Optional</td><td style="background-color: #ffbb55;">Specify a subdirectory where the file is uploaded</td><td>string</td></tr>
<tr><td><code>grantaccess</code></td><td>Optional</td><td style="background-color: #ffbb55;">If you define and set this attribute to <code>true</code> you don't have to enable file permissions by HOOK_file_access. In case this attribute is set, the file operations automatically granted when the file operation is done within a field of a node or form. Otherwise you have to explicit set of the permission to handle the file class by HOOK_file_access.</td><td><code>true</code> or *<strong>false</strong></td></tr>
<tr><td><code>ondelete</code></td><td>Optional</td><td style="background-color: #ffbb55;">You can set the CodKep should keep the file even if unselected/deleted in this field.</td><td>"keep"</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 160 =&gt; [
    "sql" =&gt; "photo",
    "text" =&gt; "Student photo",
    "type" =&gt; "file",
    "container" =&gt; "secure",
    "filetypes" =&gt; "image/jpeg;image/png",
    "subdir" =&gt; "studentfaces",
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="type_submit"></a>
</p><a name="pos_9"><h3>submit</h3></a>
<p>This field is a submit input which dedicated to send/close the form to further processing.
It does not appear in database. You can put more instance of this field into a SpeedForm to makes different buttons
to Save,Insert or Delete operations.
</p>
<p><table class="invisible">
<tr><td> Form appearance: </td><td> <img src="images/type_submit.png"  style="" alt="type_submit.png"/> </td></tr>
<tr><td> Database type: </td><td> None </td></tr>
</table>
Attributes of the field
</p>
<table><thead>
<tr><th>Index name</th><th>Necessity</th><th>Description</th><th>Value</th></tr></thead>
<tbody>
<tr><td><code>type</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The type specification string</td><td>"<code>submit</code>"</td></tr>
<tr><td><code>sql</code></td><td>Mandatory</td><td style="background-color: #ff7777;">The name of the sql row holds this data field + The identifier of the data field</td><td>string</td></tr>
<tr><td><code>default</code></td><td>Optional</td><td style="background-color: #ffbb55;">The default value of this field</td><td>string</td></tr>
<tr><td><code>in_mode</code></td><td>Optional</td><td style="background-color: #ffbb55;">Restrict the appearance of the field for specified typed function (It's only works for <code>submit</code> typed fields)</td><td>"insert" or "update" or "delete" or "select"</td></tr></tbody></table><p>You <strong>can use more attributes here</strong> which are <a href="#commonattributes">common and usable in all field definitions</a>.
</p>
<p>A sample definition of this kind of field:
</p><pre><code class="php"> 170 =&gt; [
    "sql" =&gt; "save_btn",
    'in_mode' =&gt; 'update',
    "type" =&gt; "submit",
    "default" =&gt; 'Save',
    "centered" =&gt; true,
 ],
</code></pre><p>See <a href="#ftypes">all field types</a>...
<a name="commonattributes"></a>
</p><a name="pos_9"><h3>Common field attributes</h3></a>
<p>There is a lot attribute which <em>usable in all field definition</em> array to change features or look & feel of the field or
do data validation etc.
</p>
<p><strong>This optional attributes can:</strong>
</p>
<ul><li><a href="#comm_fatt_t1">Change features of the fields</a></li><li><a href="#comm_fatt_t2">Change appearance of the fields</a></li><li><a href="#comm_fatt_t3">Adds classes to associate CSS to fields</a></li><li><a href="#comm_fatt_t4">Adds data validations</a></li></ul><p><a name="comm_fatt_t1"></a>
<strong>Change features of the fields:</strong>
</p>
<table><thead>
<tr><th>Index name</th><th>Description</th><th>Values</th></tr></thead>
<tbody>
<tr><td><code>par_sec</code></td><td style="background-color: #ffbb55;">Set the <a href="parameters.html#par_define">security class</a> of the parameter, which controls the possible values of the field</td><td><a href="parameters.html#securityclasses">A security class name</a></td></tr>
<tr><td><code>no_rest</code></td><td style="background-color: #ffbb55;">Disable/bypass the field from automatic node REST API actions. You can write combinations of lowercase letters here to bypass this field from main REST functions. c - create, r - read, u - update, a - all. For example if you set the <code>"no_rest"=>"r"</code> the field will be invisible for REST reading, but can set or created through REST PUT/POST.</td><td>String with lowercase cars: <code>"c","r","u","a"</code></td></tr>
<tr><td><code>htmlname</code></td><td style="background-color: #ffbb55;">You can redefine the name of the html/form parameter. Useful to avoid name collision when more forms used in one page. If this option is specified the form css class names will also appears with this name. The sql identifiers and node and form object value names are unaffected by this.</td><td>string</td></tr>
<tr><td><code>sqlcreatetype</code></td><td style="background-color: #ffbb55;">You can redefine the default SQL TYPE of the field type in case of sql table creation. If you set a string here, the field will be placed into CREATE TABLE with this type string.</td><td>sql string</td></tr>
<tr><td><code>readonly</code></td><td style="background-color: #ffbb55;">Set the field to read-only. This option can turn every editable field to a simple read only text.</td><td><code>true</code> or <code>false</code></td></tr>
<tr><td><code>skip</code></td><td style="background-color: #ffbb55;">If this option is set the SpeedForm completely skip the field in the specified situation. See the <a href="#skiptable">skip table below</a> to understand the actual work method.</td><td><code>all</code>, <code>sql</code>, <code>visual</code>, <code>modify</code>, <code>select</code>, <code>update</code>, <code>insert</code>, <code>delete</code> ,<code>exceptinsert</code>, <code>exceptupdate</code>, <code>exceptdelete</code></td></tr>
<tr><td><code>formatters</code></td><td style="background-color: #ffbb55;">This option can control the form formatter garnish. The form formatter html tags are only placed to the specified locations. This option can meld together two or more field visually if the first set to <code>before</code> the last to <code>after</code> and all intermediate fields to <code>none</code>.</td><td><code>all</code>(default), <code>before</code>, <code>after</code>, <code>none</code></td></tr>
<tr><td><code>converter</code></td><td style="background-color: #ffbb55;">If you set a php callback function name here the loaded html value will send trough this function before saved into the database.</td><td>php function name</td></tr>
<tr><td><code>script</code></td><td style="background-color: #ffbb55;">You can add arbitrary javascript code to the field, which inserted after the data between <code>srcipt</code> tags.</td><td>javascript code</td></tr>
<tr><td><code>check_loaded_function</code></td><td style="background-color: #ffbb55;">You can add function callback/name here which is called immediately after parameter is loaded by load_parameters() function. The function can do some early parameter check and can do redirection to error targets if something wrong. The function cannot change the loaded value!</td><td>php function name</td></tr>
<tr><td><code>hide</code></td><td style="background-color: #ffbb55;">If this option is <code>true</code> the field will hided out in form.</td><td><code>true</code> or <code>false</code></td></tr>
<tr><td><code>fieldset</code></td><td style="background-color: #99aaff;">If this attribute is set, the field belongs a html fieldset tag. The tag automatically created before the first member field. (Only if top level <code>show=div</code>)</td><td>string</td></tr>
<tr><td><code>fieldset_text</code></td><td style="background-color: #99aaff;">If the field is belongs a fieldset and the field is the first (opener tag) of the fieldset this value will be the title of the fieldset. Unnecessary but safe to set this in all fieldset member field. (Only if top level <code>show=div</code>)</td><td>string</td></tr>
<tr><td><code>fieldset_body_extraclass</code></td><td style="background-color: #99aaff;">Adds extra css classes to the body of the fieldset if the field is the first (opener tag) of the fieldset. Unnecessary but safe to set this in all fieldset member field. (Only if top level <code>show=div</code>)</td><td>string</td></tr>
<tr><td><code>description</code></td><td style="background-color: #99aaff;">Print this description text after the value set area in a separate div (Only if top level <code>show=div</code>)</td><td>string</td></tr></tbody></table><p><a name="skiptable"></a>
<strong>Working of SKIP field attribute</strong>
</p>
<p>You can completely skip some fields by setting the skip attribute to a value show here (in table column labels).
</p>
<table><thead>
<tr><th><big>"SKIP" =&gt;</big></th><th>all</th><th>sql</th><th>visual</th><th>modify</th><th>select</th><th>update</th><th>insert</th><th>delete</th><th>except insert</th><th>except update</th><th>except delete</th></tr></thead>
<tbody>
<tr><td><code>load_values            </code></td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
<tr><td><code>sql_select_            </code></td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td></tr>
<tr><td><code>sql_update_            </code></td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td></tr>
<tr><td><code>sql_insert_            </code></td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td></tr>
<tr><td><code>generate_form('all')   </code></td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
<tr><td><code>generate_form('select')</code></td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td></tr>
<tr><td><code>generate_form('update')</code></td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td></tr>
<tr><td><code>generate_form('insert')</code></td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td></tr>
<tr><td><code>generate_form('delete')</code></td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td><td></td></tr>
<tr><td><code>do_validate('update')</code></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td style="background-color: #ffaaaa;">S</td></tr>
<tr><td><code>do_validate('insert')</code></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td></tr>
<tr><td><code>do_validate('delete')</code></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td></td><td></td><td></td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td><td style="background-color: #ffaaaa;">S</td><td></td></tr></tbody></table><p><a name="comm_fatt_t2"></a>
<strong>Change appearance of the fields:</strong>
</p>
<table><thead>
<tr><th>Index name</th><th>Description</th><th>Values</th></tr></thead>
<tbody>
<tr><td><code>color</code></td><td style="background-color: #99ffcc;">Sets the color of the table background</td><td>HTML color code<br/>Sample: <code>#ffaa99</code></td></tr>
<tr><td><code>before</code></td><td style="background-color: #99ffcc;">Prints the text before the whole field codes.</td><td>text (Can contains html codes)</td></tr>
<tr><td><code>prefix</code></td><td style="background-color: #99ffcc;">Prints the text before the field value.</td><td>text (Can contains html codes)</td></tr>
<tr><td><code>neval_prefix</code></td><td style="background-color: #99ffcc;">Prints the text before the field value if the field value is not empty string.</td><td>text (Can contains html codes)</td></tr>
<tr><td><code>neval_suffix</code></td><td style="background-color: #99ffcc;">Prints the text after the field value if the field value is not empty string.</td><td>text (Can contains html codes)</td></tr>
<tr><td><code>suffix</code></td><td style="background-color: #99ffcc;">Prints the text after the field value.</td><td>text (Can contains html codes)</td></tr>
<tr><td><code>after</code></td><td style="background-color: #99ffcc;">Prints the text after the whole field codes.</td><td>text (Can contains html codes)</td></tr>
<tr><td><code>centered</code></td><td style="background-color: #99ffcc;">If this option is set <code>true</code> and the <code>text</code> is empty the value will centered in the table cell</td><td><code>true</code>, <code>false</code></td></tr>
<tr><td><code>form_options</code></td><td style="background-color: #99ffcc;">This is an associative array which directly passed to the HtmlForm element generated by the field. It will be the <code>$opts</code> parameter. To see possible values see the <a href="#htmlformmethods">HtmlForm field options</a>. (<code>class</code>, <code>id</code>, <code>size</code>, <code>maxlength</code>, <code>readonly</code>, <code>onclick</code>, <code>style</code>, etc...)</td><td>Associative array</td></tr></tbody></table><p><a name="comm_fatt_t3"></a>
<strong>Associate CSS to fields:</strong>
</p>
<table><thead>
<tr><th>Index name</th><th>Description</th><th>Values</th></tr></thead>
<tbody>
<tr><td><code>line_class</code></td><td style="background-color: #99eecc;">Set CSS classes of the field's whole line.</td><td>String contains CSS classes</td></tr>
<tr><td><code>title_class</code></td><td style="background-color: #99eecc;">Set CSS classes of the field's title text.</td><td>String contains CSS classes</td></tr>
<tr><td><code>value_class</code></td><td style="background-color: #99eecc;">Set CSS classes of the field's value part.</td><td>String contains CSS classes</td></tr></tbody></table><p><a name="comm_fatt_t4"></a>
<strong>Adds data validations:</strong>
</p>
<table><thead>
<tr><th>Index name</th><th>Description</th><th>Values</th></tr></thead>
<tbody>
<tr><td><code>check_regex</code></td><td style="background-color: #ffff33;">You can set the regex based validations of the field's value. You have to set an associative array here, where the key is the regex and the value is the error text to show in case the value does not match to the regex. (See the sample code of <code>smalltext</code> to see how to use it.)</td><td>An associative array with key-value pairs</td></tr>
<tr><td><code>check_noempty</code></td><td style="background-color: #ffff33;">If you set this attribute, the SpeedForm does not allow to save the empty value. In that case the error message printed which set as value.</td><td>Error message</td></tr>
<tr><td><code>check_callback</code></td><td style="background-color: #ffff33;">You can set a php callback here, which usable to validate or even change the value. The callback function looks like this way: <code>validator_callback(&$value,$definition,$allvalues)</code>. If the callback returns a non-empty string, the field will raise error and the string will be the error message.</td><td><code>&$value,array $definition,array $allvalues</code></td></tr></tbody></table><p><a name="sfoutputf"></a>
</p><a name="pos_10"><h2>Output format of SpeedForm</h2></a>
<p>The SpeedForm's data definition array have a top level attribute <code>show</code> which basically influence the appearance of
the generated form. The generated <code>HtmlForm</code> object is built with <code>HtmlFormFormatter</code> descendant object set.
</p>
<p><strong>By default two base types are available as output format:</strong>
</p>
<ul><li><code>"show" => "table"</code>
<ul><li>The <code>HtmlForm</code> will contains a tuned <code>Table_SpeedFormFormFormmater</code> formatter.</li><li>The form is shows as a big html table where every field is show in a table row. (You can meld rows together with the special <code>formatters</code> option or hack other elements into the table with the <code>after</code>,<code>before</code> options)</li></ul></li><li><code>"show" => "div"</code>
<ul><li>The <code>HtmlForm</code> will contains a tuned <code>Div_SpeedFormFormFormmater</code> formatter.</li><li>The form is shows as a detailed div structure where every field is located in different divs with unique class names. This format is more customizable by designers but more ugly without any further CSS settings.</li></ul></li></ul><p><em>Note: Both output format has the possibility to generate the final form codes by field to field</em>
<em>and put arbitrary codes between the field this way.</em>
<em>See HtmlFrom's <code>get_start</code>,<code>get_part</code> and <code>get_end</code> functions. Read <a href="#htmlformcodgen">here</a>.</em>
</p>
<p>You can register a custom SpeedFormFormatter class to make your own form style:
<span class="definition">register_speedform_formatter($name,$classname)</span>
<br/>
This function registers a custom SpeedFormFormatter class so the class will be available in the data definition
array's top level <code>show</code> attribute and the SpeedFormBuilder will known it (you can select it).
</p>
<ul><li><code>$name</code> name is a simple string which reference the registered formatter in the data definition array's top level <code>show</code> attribute</li><li><code>$classname</code> the classname of the SpeedFormFormatter descendant class you already defined in your module. If the passed classname is not a sublass of SpeedFormFormatter an exception is thrown.</li></ul><a name="pos_11"><h2>Query and Add field types</h2></a>
<p>You can query the available field types of SpeedForm with the following function:
</p>
<p><span class="definition">speedform_available_types()</span>
<br/>
</p>
<ul><li>The function returns an array contains the available field types.</li></ul><p><strong>You can create new field types in SpeedForm with the <code>HOOK_custom_formtypes</code> <a href="hooks.html">hook</a></strong>.
</p>
<p>If you intend to create a new field type you have to implement the <code>HOOK_custom_formtypes</code> hook,
and create a special associative array with the appropriate fields and return it.
The returned array have to contains the following values:
</p>
<ul><li><code>"typename" => </code>
<ul><li>The index is the name of the new type, the value is an array with the following indexes:
<ul><li><code>"sqlname" => php_function_name</code>
<ul><li>The function should return the sql name of the field</li><li>Parameters: <span class="definition">($field_def,$op)</span>
<ul><li><code>$field_def</code> - The field definition part of the data definition array.</li><li><code>$op</code> - The operation in progress (SELECT,UPDATE,INSERT,DELETE)</li></ul></li></ul></li><li><code>"sqlvalue" => php_function_name</code>
<ul><li>The function should return the sql value of the field</li><li>Parameters: <span class="definition">($strip,$field_def,$op,$value)</span>
<ul><li><code>$strip</code> - If <code>true</code> the parameter value will used in sql parameter substitute array.</li><li><code>$field_def</code> - The field definition part of the data definition array.</li><li><code>$op</code> - The operation in progress (SELECT,UPDATE,INSERT,DELETE)</li><li><code>$value</code> - The value stored in internal state.</li></ul></li></ul></li><li><code>defvaltr => php_function_name</code>
<ul><li>Optional settings to give a callback function which process/can change the default value when loaded into the SpeedForm value array. (Example: This callback function can change the "now" to the current date in case of "date" and "dateu" typed fields)</li></ul></li><li><code>"directval" => true or false</code>
<ul><li>If the directval option is <code>true</code> the value cannot set through sql query parameter, it has to embed directly into the sql command (Example: In "timestamp_mod" field you cannot give the "CURRENT_TIMESTAMP" or "now()" in parameters. It has to embed into the update string. )</li></ul></li><li><code>"dispval" => php_function_name</code>
<ul><li>This function should return a displayable value of the parameter passed <code>$value</code>. This callback is used to generate the result of <code>get_display_value()</code> function.</li><li><code>$field_def</code> - The field definition part of the data definition array.</li></ul></li><li><code>"form" => php_function_name</code>
<ul><li>The function should generate the form item.</li><li>Parameters: <span class="definition">($field_def,$form,$value,$opts)</span>
<ul><li><code>$field_def</code> - The field definition part of the data definition array.</li><li><code>$form</code> - The HtmlForm object which currently built.</li><li><code>$value</code> - The value stored in internal state.</li><li><code>$opts</code> - The form options which should pass to the HtmlForm item.</li></ul></li></ul></li><li><code>"loadpar" => NULL or php_function_name</code>
<ul><li>An optional function which loads the POST/GET parameters.</li><li>If <code>NULL</code> set the default parameter load method will be used.</li><li>The function should set the loaded value by return it.</li><li>Parameters: <span class="definition">($field_def,$tablename)</span>
<ul><li><code>$field_def</code> - The field definition part of the data definition array.</li></ul></li></ul></li><li><code>"loadpar_deferred" => NULL or php_function_name</code>
<ul><li>Same parameters and functionality as <code>loadpar</code>.</li><li>This callback is run in <code>load_parameters_deferred</code> automatically in case of sql command generation. See the documentation text of SpeedForm's <code>load_parameter()</code> function!</li></ul></li><li><code>"par_sec" => security_class</code>
<ul><li>Specify the default <a href="parameters.html#securityclasses">parameter security class</a> of the field.</li></ul></li><li><code>"sqltype" => SQL_TYPE_STR</code>
<ul><li>Specify the SQL CREATE TYPE of the field</li></ul></li><li><code>"validator" => NULL or php_function_name</code>
<ul><li>You can set an optional validator function here.</li><li>Parameters: <span class="definition">($field_def,$value)</span>
<ul><li><code>$field_def</code> - The field definition part of the data definition array.</li><li><code>$value</code> - The value to validate.</li></ul></li><li>If the validator function returns an empty string the value is considered to good. In the other case the returned text handled as error message.</li></ul></li></ul></li></ul></li></ul><p>Sample code which define the "gpscoordinate" type:
</p><pre><code class="php">function hook_mymodule_custom_formtypes()
{
  $r = [];
  $r['gpscoordinate'] = [
      'sqlname'   =&gt; 'sfh_name_gps',
      'sqlvalue'  =&gt; 'sfh_value_gps',
      'directval' =&gt; false,
      'dispval'   =&gt; 'sfh_dispval_gps',
      'form'      =&gt; 'sfh_gps_form',
      'loadpar'   =&gt; 'sfh_phs_loadpar',
      'par_sec'   =&gt; 'number1ns',
      'sqltype'   =&gt; 'VARCHAR(64)',
      'validator' =&gt; 'sfh_gps_validator',
  ];
  return $r;
}

function sfh_name_gps($field_def,$op)
{
    ... //return the sql name here
}

function sfh_value_gps($strip,$field_def,$op,$value)
{
    ... //returns the sql value here
}

function sfh_gps_form($field_def,$form,$value,$opts)
{
    ... //sample codes:
    $htmlname = $field_def['sql'];
    if(isset($field_def['htmlname']) && $field_def['htmlname'] != '')
        $htmlname = $field_def['htmlname'];

    ... //generate the field's related form data here
    $form-&gt;input('text',$htmlname.'_lat',$lat_value,$opts);
    $form-&gt;input('text',$htmlname.'_long',$long_value,$opts);
}

function sfh_phs_loadpar($field_def,$tablename)
{
    ... //sample codes:
    $htmlname = $field_def['sql'];
    if(isset($field_def['htmlname']) && $field_def['htmlname'] != '')
        $htmlname = $field_def['htmlname'];

    par_def($htmlname.'_lat', ... );
    par_def($htmlname.'_long', ... );

    ... //load the parameter(s) here
    $lat_value =  par($htmlname.'_lat');
    $long_value =  par($htmlname.'_long');
    ...
    return gps($lat_value,$long_value);
}
function sfh_dispval_gps($field_def,$value)
{
    ... //return the nice looking html codes of the value
}

function sfh_gps_validator($field_def,$value)
{
    ... //validate the data here
}
</code></pre><p><a name="datadefstrrepository"></a>
</p><a name="pos_12"><h3>Data definition structure repository</h3></a>
<p>A data definition structure is usually used to specify a <a href="node.html">Node</a>
or a <a href="forms.html#speedform">SpeedForm</a> or a <a href="dyntable.html">DynTable</a>.
In case the structure is specify a node it's stored in CodKep's node subsystem.
You can also load this structures into the <a href="javascript:alert('This url works on an installed CodKep instance. It is unavailable in this offline document.');">SpeedFormBuilder</a> to make further edit of this
(Load is located under the "state" button)
</p>
<p>Other data definition structures (Which are not acts as node definition) can add into a global repository which store
this definitions and makes it possible to get this definitions anywhere by <code>datadef_from_repository($name)</code>
function. This definition will also available by speedformbuilder just as node definitions. (Except DynTable definitions)
</p>
<p><em>Note: Using of data field repository subsystem is fully optional. The SpeedForm class does not require it.</em>
</p>
<p>Adding data definitions to the repository:
</p>
<ul><li>Use <code>HOOK_datadef_repository</code> <a href="hooks.html">hook</a> to add a data definition structure to the repository.
<ul><li>The hook should returns an associative array where the indexes is the unique names of the structures while the values are a callback function names which generates the data definition structures itself.</li></ul></li></ul><p>Get the data from the repository:
</p>
<p><span class="definition">datadef_from_repository($name);</span>
<br/>
</p>
<ul><li>Returns the <code>$name</code> named data definition structure from the data definition structure repository. Returns NULL if not found.</li></ul><pre><code class="php">function hook_mymodule_datadef_repository()
{
    return [
        'album_pictures_def' =&gt; 'generate_album_pictures_def',
    ];
}

function generate_album_pictures_def()
{
    return
    [
     ... //May generated/and re-loaded by SpeedFormBuilder
    ];
}

...

//using of the structure somewhere in the code:
$sf = new SpeedForm(datadef_from_repository('album_pictures_def'));
</code></pre><a name="pos_13"><h2>Helper functions</h2></a>
<p><span class="definition">speedform_get_field_array($definition,$sqlname)</span>
<br/>
The function search and returns the definition array part of the field from the parameter passed <code>$definition</code>
structure according to the <code>$sqlname</code> parameter. Returns empty array if not found.
</p>
<p><span class="definition">speedform_get_field_attribute($definition,$sqlname,$attributename)</span>
<br/>
The function search and returns the specified attribute of specified field from the parameter passed <code>$definition</code>
structure according to the <code>$sqlname</code> and <code>$attribute</code> parameter. Returns <code>null</code> if not found.
</p>
<p><span class="definition">speedform_get_field_display_value($definition,$sqlname,$value)</span>
<br/>
The function converts the <code>$value</code> parameter to a display value according to the <code>$definition</code> data definition
structure and the <code>$sqlname</code> field parameter. Returns the passed value unchanged if not success.
</p>
<p><a name="formssettings"></a>
</p><a name="pos_14"><h2>Settings of the forms module</h2></a>
<p>The SpeedForm settings which can set <a href="modules.html#site_settings">in site settings</a>.
</p>
<p></p>
<table><thead>
<tr><th>name</th><th>default</th><th>description</th></tr></thead>
<tbody>
<tr><td><small> <code>$site_config->speedform_number_langtag</code> </small></td><td><small> "" </small></td><td>If this value is not empty the SpeedForm adds the "lang" tag with the specified value to every HtmlForm's number input to avoid locale specific problems.</td></tr></tbody></table><a name="pos_15"><h2>Hooks</h2></a>
<p>The following <a href="hooks.html">hooks</a> can be implement to interact with forms module.
</p>
<p><em>Note: Many of this hooks has an <code>$obj</code> parameter which is a container object holding references</em>
<em>to the object and other data structures which are modifiable by the hook.</em>
</p>
<table><thead>
<tr><th>Hook</th><th>Description</th></tr></thead>
<tbody>
<tr><td>HOOK_table_get($obj)</td><td>This hook runs before the HtmlTable object is rendered. It can modify the table data and settings.</td></tr>
<tr><td>HOOK_form_get_start($obj)</td><td>This hook runs before the HtmlForm object rendering is start. It can modify the forms data.</td></tr>
<tr><td>HOOK_form_get_item($obj)</td><td>This hook runs every time when HtmlForm item is started to render. It can modify the item's data and settings.</td></tr>
<tr><td>HOOK_custom_formtypes()</td><td>You can add your own field type to SpeedForm with this hook.</td></tr>
<tr><td>HOOK_speedform_created($obj)</td><td>This hook is run after a SpeedForm is created and got the definition. It can modify definition and initial values of SpeedForm.</td></tr>
<tr><td>HOOK_speedform_set_key($obj)</td><td>This hooks run when a SpeedForm's key is set. It can modify the value of the set key itself.</td></tr>
<tr><td>HOOK_speedform_parameters_loaded($obj)</td><td>This hook run immediately after a SpeedForm is loaded the values from page parameters. (POST/GET) It receives the definition and the loaded values.</td></tr>
<tr><td>HOOK_speedform_values_loaded($obj)</td><td>This hook run immediately after a SpeedForm is loaded the values from function which is usually means that the values are loaded from database. (SELECT) It receives the definition and the loaded values.</td></tr>
<tr><td>HOOK_speedform_before_validate($obj)</td><td>This hook is runs immediately before the SpeedForm validation process. In can raise a validation error or can modify values, highlights.</td></tr>
<tr><td>HOOK_speedform_form_generated($obj)</td><td>This hook runs immediately after the SpeedForm is generate the HtmlForm object. It can modify the SpeedForm and the form data too.</td></tr>
<tr><td>HOOK_field_repository($obj)</td><td>You can define global field types with this hook, which can be used and reused in <code>to_table()</code> function anywhere to build nice and well formatted tables. <a href="totable.html#fieldrepository">See this chapter</a>.</td></tr>
<tr><td>HOOK_datadef_repository()</td><td>You can add one or more data definition structure to a global repository by this hook and receive its when needed. (By <code>datadef_from_repository($name)</code> function) This data definition are accessible by speedform builder, if the settings makes it possible.</td></tr></tbody></table></div><script>hljs.initHighlightingOnLoad();</script><div class="ccdocpanel"><ul class="docsidemenu no-print"><li><a href="start.html">CodKep introduction</a><ul class=" closed"><li><a href="start.html#pos_2">What is CodKep</a></li><li><a href="start.html#pos_3">The main chapters of this document</a></li><li><a href="start.html#pos_4">Author, License</a></li></ul></li><li><a href="modules.html">Installing, Modules</a><ul class=" closed"><li><a href="modules.html#pos_2">Installing codkep</a></li><li><a href="modules.html#pos_3">Directories</a></li><li><a href="modules.html#pos_4">Site settings, configuration</a></li><li><a href="modules.html#pos_5">Modules</a></li><li><a href="modules.html#pos_6">Modules located in more subdirectory</a></li><li><a href="modules.html#pos_7">After you create your own module...</a></li></ul></li><li><a href="routes.html">Routes</a><ul class=" closed"><li><a href="routes.html#pos_2">Add custom locations</a></li><li><a href="routes.html#pos_3">The route definition array</a></li><li><a href="routes.html#pos_4">Parameters in URL</a></li><li><a href="routes.html#pos_5">Caching routes</a></li><li><a href="routes.html#pos_6">Generating URLs</a></li><li><a href="routes.html#pos_7">Generating Links</a></li><li><a href="routes.html#pos_8">Redirections</a></li><li><a href="routes.html#pos_9">Tags</a></li><li><a href="routes.html#pos_10">Clean URLs</a></li><li><a href="routes.html#pos_11">Hooks related to routes</a></li></ul></li><li><a href="hooks.html">Hooks</a><ul class=" closed"><li><a href="hooks.html#pos_2">Implement hooks</a></li><li><a href="hooks.html#pos_3">Interaction of hooks</a></li><li><a href="hooks.html#pos_4">Hook sequence of a page load</a></li><li><a href="hooks.html#pos_5">Create hooks</a></li><li><a href="hooks.html#pos_6">Caching hooks</a></li><li><a href="hooks.html#pos_7">Change hook order</a></li><li><a href="hooks.html#pos_8">Debugging hooks</a></li><li><a href="hooks.html#pos_9">Hooks</a></li></ul></li><li><a href="parameters.html">Parameters</a><ul class=" closed"><li><a href="parameters.html#pos_2">Defining parameters</a></li><li><a href="parameters.html#pos_3">Defining in route definition array</a></li><li><a href="parameters.html#pos_4">Using parameters</a></li><li><a href="parameters.html#pos_5">Other parameter related functions</a></li><li><a href="parameters.html#pos_6">Security classes</a></li><li><a href="parameters.html#pos_7">Parameter handling relates settings</a></li><li><a href="parameters.html#pos_8">Hooks</a></li></ul></li><li><a href="structure.html">Themes</a><ul class=" closed"><li><a href="structure.html#pos_2">Functions unrelated to themes</a></li><li><a href="structure.html#pos_3">Using of themes</a></li><li><a href="structure.html#pos_4">Place your own content to a site area</a></li><li><a href="structure.html#pos_5">Settings of flex theme</a></li><li><a href="structure.html#pos_6">Create own themes</a></li><li><a href="structure.html#pos_7">Menu system</a></li><li><a href="structure.html#pos_8">Custom themes and menu generation</a></li><li><a href="structure.html#pos_9">Hooks</a></li></ul></li><li><a href="ajax.html">Ajax framework</a><ul class=" closed"><li><a href="ajax.html#pos_2">Start ajax requests</a></li><li><a href="ajax.html#pos_3">1. Place an user (click) triggered ajax link in html code</a></li><li><a href="ajax.html#pos_4">2. Set HTML form action to ajax</a></li><li><a href="ajax.html#pos_5">3. Place a delayed ajax call to the page</a></li><li><a href="ajax.html#pos_6">4. Fill page parts/block by simply call fill_through_ajax() function</a></li><li><a href="ajax.html#pos_7">The ajax handler</a></li><li><a href="ajax.html#pos_8">Ajax commands</a></li><li><a href="ajax.html#pos_9">A complex ajax example (Version 1 - standard)</a></li><li><a href="ajax.html#pos_10">A complex ajax example (Version 2 - autorouted)</a></li></ul></li><li><a href="sql.html">Sql</a><ul class=" closed"><li><a href="sql.html#pos_2">Sql database settings</a></li><li><a href="sql.html#pos_3">Connect and disconnect</a></li><li><a href="sql.html#pos_4">Execute SQL commands</a></li><li><a href="sql.html#pos_5">General database CRUD interface</a></li><li><a href="sql.html#pos_6">Methods of DatabaseQuery</a></li><li><a href="sql.html#pos_7">Methods of DatabaseCond</a></li><li><a href="sql.html#pos_8">Simple and easy database operations</a></li><li><a href="sql.html#pos_9">Sql transactions</a></li><li><a href="sql.html#pos_10">Error handling</a></li><li><a href="sql.html#pos_11">Schema editor</a></li><li><a href="sql.html#pos_12">Define sql schema requirements</a></li><li><a href="sql.html#pos_13">Hooks</a></li></ul></li><li><a href="files.html">Files</a><ul class=" closed"><li><a href="files.html#pos_2">Storing type</a></li><li><a href="files.html#pos_3">File class</a></li><li><a href="files.html#pos_4">Fixed properties of the File object</a></li><li><a href="files.html#pos_5">Methods of File object</a></li><li><a href="files.html#pos_6">Helper functions of File class</a></li><li><a href="files.html#pos_7">File access control</a></li><li><a href="files.html#pos_8">Tricks with file hooks</a></li><li><a href="files.html#pos_9">Image size classes</a></li><li><a href="files.html#pos_10">Settings of the file module</a></li><li><a href="files.html#pos_11">Hooks</a></li></ul></li><li><a href="forms.html">Forms</a><ul class=""><li><a href="forms.html#pos_2">Simple HTML form generation</a></li><li><a href="forms.html#pos_3">Form checker method</a></li><li><a href="forms.html#pos_4">The SpeedForm </a></li><li><a href="forms.html#pos_5">Methods of SpeedForm</a></li><li><a href="forms.html#pos_6">Data definition structure</a></li><li><a href="forms.html#pos_7">The structure : Top level attributes</a></li><li><a href="forms.html#pos_8">Field types</a></li><li><a href="forms.html#pos_9">Common field attributes</a></li><li><a href="forms.html#pos_10">Output format of SpeedForm</a></li><li><a href="forms.html#pos_11">Query and Add field types</a></li><li><a href="forms.html#pos_12">Data definition structure repository</a></li><li><a href="forms.html#pos_13">Helper functions</a></li><li><a href="forms.html#pos_14">Settings of the forms module</a></li><li><a href="forms.html#pos_15">Hooks</a></li></ul></li><li><a href="tablegen.html">Table generator</a><ul class=" closed"><li><a href="tablegen.html#pos_2">Html table generation</a></li><li><a href="tablegen.html#pos_3">Excel output generator</a></li><li><a href="tablegen.html#pos_4">Convert Excel XML tables to HTML tables</a></li></ul></li><li><a href="totable.html">Query formatter</a><ul class=" closed"><li><a href="totable.html#pos_2">Automatic output generator for sql queries</a></li><li><a href="totable.html#pos_3">Input of to_table()</a></li><li><a href="totable.html#pos_4">Output of to_table()</a></li><li><a href="totable.html#pos_5">Options affects the whole table</a></li><li><a href="totable.html#pos_6">Change the number or/and the order of the fields</a></li><li><a href="totable.html#pos_7">Customize of fields</a></li><li><a href="totable.html#pos_8">Modify the value of the fields</a></li><li><a href="totable.html#pos_9">Using virtual fields</a></li><li><a href="totable.html#pos_10">Using field repository</a></li><li><a href="totable.html#pos_11">Using field repository directly from SQL</a></li><li><a href="totable.html#pos_12">Backend of to_table()</a></li><li><a href="totable.html#pos_13">Generate HTML and Excel tables with same way</a></li></ul></li><li><a href="dyntable.html">DynTable</a><ul class=" closed"><li><a href="dyntable.html#pos_2">Methods of DynTable class</a></li><li><a href="dyntable.html#pos_3">Data definition structure</a></li><li><a href="dyntable.html#pos_4">Data definition structure repository</a></li><li><a href="dyntable.html#pos_5">A complex example</a></li></ul></li><li><a href="user.html">User module</a><ul class=" closed"><li><a href="user.html#pos_2">The global $user object</a></li><li><a href="user.html#pos_3">Login and logout</a></li><li><a href="user.html#pos_4">Managing users</a></li><li><a href="user.html#pos_5">Helper functions</a></li><li><a href="user.html#pos_6">CodKep session data</a></li><li><a href="user.html#pos_7">Settings of user module</a></li><li><a href="user.html#pos_8">Hooks</a></li></ul></li><li><a href="node.html">Node</a><ul class=" closed"><li><a href="node.html#pos_2">Fixed properties(fields) of the Node</a></li><li><a href="node.html#pos_3">Methods of Node class</a></li><li><a href="node.html#pos_4">Helper functions of node class</a></li><li><a href="node.html#pos_5">Defining a node</a></li><li><a href="node.html#pos_6">Dynamic node definition</a></li><li><a href="node.html#pos_7">Derive node definition from another node</a></li><li><a href="node.html#pos_8">Modify existing node types</a></li><li><a href="node.html#pos_9">Show the defined node types</a></li><li><a href="node.html#pos_10">Database appearance of nodes</a></li><li><a href="node.html#pos_11">Querying node lists from database</a></li><li><a href="node.html#pos_12">Node access control</a></li><li><a href="node.html#pos_13">REST api for nodes</a></li><li><a href="node.html#pos_14">Node related REST commands</a></li><li><a href="node.html#pos_15">A complete example</a></li><li><a href="node.html#pos_16">Custom Node objects</a></li><li><a href="node.html#pos_17">Settings of the nodes</a></li><li><a href="node.html#pos_18">Hooks</a></li></ul></li><li><a href="page.html">Page</a><ul class=" closed"><li><a href="page.html#pos_2">Fields of the page</a></li><li><a href="page.html#pos_3">Permissions of pages</a></li><li><a href="page.html#pos_4">Extending page type</a></li><li><a href="page.html#pos_5">Settings of the pages</a></li><li><a href="page.html#pos_6">Hooks</a></li></ul></li><li><a href="doc.html">Documenting</a><ul class=" closed"><li><a href="doc.html#pos_2">My mark language</a></li><li><a href="doc.html#pos_3">Highlights</a></li><li><a href="doc.html#pos_4">Headings</a></li><li><a href="doc.html#pos_5">Other elements</a></li><li><a href="doc.html#pos_6">Tables</a></li><li><a href="doc.html#pos_7">Lists</a></li><li><a href="doc.html#pos_8">Codes</a></li><li><a href="doc.html#pos_9">Links</a></li><li><a href="doc.html#pos_10">Images</a></li></ul></li><li><a href="debug.html">Debugging</a><ul class=" closed"><li><a href="debug.html#pos_2">Dumping arbitrary data objects</a></li><li><a href="debug.html#pos_3">Special pages</a></li><li><a href="debug.html#pos_4">Debug sql calls</a></li><li><a href="debug.html#pos_5">Dump the parameters of the page</a></li></ul></li><li><a href="cron.html">Cron module</a><ul class=" closed"><li><a href="cron.html#pos_2">Trigger the cron module to operate</a></li><li><a href="cron.html#pos_3">Defining a scheduled task</a></li><li><a href="cron.html#pos_4">Settings</a></li></ul></li><li><a href="permissionflags.html">PermissionFlags module</a><ul class=" closed"><li><a href="permissionflags.html#pos_2">Methods of File object</a></li></ul></li><li><a href="activitycomment.html">ActivityComment module</a><ul class=" closed"><li><a href="activitycomment.html#pos_2">ActivityComment API</a></li><li><a href="activitycomment.html#pos_3">Permissions of commenting</a></li><li><a href="activitycomment.html#pos_4">Sample code</a></li><li><a href="activitycomment.html#pos_5">Settings</a></li></ul></li><li><a href="activitypoll.html">ActivityPoll module</a><ul class=" closed"><li><a href="activitypoll.html#pos_2">ActivityPoll API</a></li><li><a href="activitypoll.html#pos_3">Permissions of poll vote</a></li><li><a href="activitypoll.html#pos_4">Sample code</a></li><li><a href="activitypoll.html#pos_5">Settings</a></li></ul></li><li><a href="httpsqlconn.html">HttpSqlConn module</a><ul class=" closed"><li><a href="httpsqlconn.html#pos_2">Steps of remote sql processing</a></li><li><a href="httpsqlconn.html#pos_3">Resource names</a></li><li><a href="httpsqlconn.html#pos_4">Access control</a></li></ul></li></ul></div></div>
</body>
</html>